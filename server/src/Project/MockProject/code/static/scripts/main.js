function Typer(e){return eventDetailPage.responsiveElement(),!0}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=!1,o=!1,i=0,r=2e3,n=0,s=e,a=document,l=window,c=s(l),d=[],u=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,h=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(u)l.cancelAnimationFrame||(h=function(e){});else{var p=0;u=function(e,t){var o=(new Date).getTime(),i=Math.max(0,16-(o-p)),r=l.setTimeout(function(){e(o+i)},i);return p=o+i,r},h=function(e){l.clearTimeout(e)}}var g=l.MutationObserver||l.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},f={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=a.currentScript||function(){var e=a.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),t=e?e.src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,w=function(){if(v)return v;var e=a.createElement("DIV"),t=e.style,o=navigator.userAgent,i=navigator.platform,r={};return r.haspointerlock="pointerLockElement"in a||"webkitPointerLockElement"in a||"mozPointerLockElement"in a,r.isopera="opera"in l,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),r.isie="all"in a&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in t),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in a)||7===a.documentMode),r.isie8=r.isie&&"documentMode"in a&&8===a.documentMode,r.isie9=r.isie&&"performance"in l&&9===a.documentMode,r.isie10=r.isie&&"performance"in l&&10===a.documentMode,r.isie11="msRequestFullscreen"in e&&a.documentMode>=11,r.ismsedge="msCredentials"in l,r.ismozilla="MozAppearance"in t,r.iswebkit=!r.ismsedge&&"WebkitAppearance"in t,r.ischrome=r.iswebkit&&"chrome"in l,r.ischrome38=r.ischrome&&"touchAction"in t,r.ischrome22=!r.ischrome38&&r.ischrome&&r.haspointerlock,r.ischrome26=!r.ischrome38&&r.ischrome&&"transition"in t,r.cantouch="ontouchstart"in a.documentElement||"ontouchstart"in l,r.hasw3ctouch=(l.PointerEvent||!1)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),r.hasmstouch=!r.hasw3ctouch&&(l.MSPointerEvent||!1),r.ismac=/^mac$/i.test(i),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(i),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in a,r.isios8=r.isios&&"hidden"in a,r.isios10=r.isios&&l.Proxy,r.isandroid=/android/i.test(o),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1,r.trstyle="transform",r.hastransform="transform"in t||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],o=0,i=e.length;o<i;o++)if(void 0!==t[e[o]]){r.trstyle=e[o];break}r.hastransform=!!r.trstyle}(),r.hastransform&&(t[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(t[r.trstyle])),r.transitionstyle="transition",r.prefixstyle="",r.transitionend="transitionend",r.hastransition="transition"in t||function(){r.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],o=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],i=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],n=0,s=e.length;n<s;n++)if(e[n]in t){r.transitionstyle=e[n],r.prefixstyle=o[n],r.transitionend=i[n];break}r.ischrome26&&(r.prefixstyle=o[1]),r.hastransition=r.transitionstyle}(),r.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(r.ischrome&&!r.ischrome38||r.isie)&&(e=[]);for(var o=0,i=e.length;o<i;o++){var n=e[o];if(t.cursor=n,t.cursor==n)return n}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),r.hasmousecapture="setCapture"in e,r.hasMutationObserver=!1!==g,e=null,v=r,r},b=function(e,p){function v(){var e=z.doc.css(I.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function b(){var e=z.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}function x(e,t,o){var i=e.css(t),r=parseFloat(i);if(isNaN(r)){r=N[i]||0;var n=3==r?o?z.win.outerHeight()-z.win.innerHeight():z.win.outerWidth()-z.win.innerWidth():1;return z.isie8&&r&&(r+=1),n?r:0}return r}function S(e,t,o,i){z._bind(e,t,function(i){i=i||l.event;var r={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(i.wheelDeltaX&&(r.deltaX=-.025*i.wheelDeltaX),i.wheelDeltaY&&(r.deltaY=-.025*i.wheelDeltaY),!r.deltaY&&!r.deltaX&&(r.deltaY=-.025*i.wheelDelta)):r.deltaY=i.detail,o.call(e,r)},i)}function T(e,t,o,i){z.scrollrunning||(z.newscrolly=z.getScrollTop(),z.newscrollx=z.getScrollLeft(),D=m());var r=m()-D;if(D=m(),r>350?j=1:j+=(2-j)/10,e=e*j|0,t=t*j|0,e){if(i)if(e<0){if(z.getScrollLeft()>=z.page.maxw)return!0}else if(z.getScrollLeft()<=0)return!0;var n=e>0?1:-1;A!==n&&(z.scrollmom&&z.scrollmom.stop(),z.newscrollx=z.getScrollLeft(),A=n),z.lastdeltax-=e}if(t){if(function(){var e=z.getScrollTop();if(t<0){if(e>=z.page.maxh)return!0}else if(e<=0)return!0}()){if(E.nativeparentscrolling&&o&&!z.ispage&&!z.zoomactive)return!0;var s=z.view.h>>1;z.newscrolly<-s?(z.newscrolly=-s,t=-1):z.newscrolly>z.page.maxh+s?(z.newscrolly=z.page.maxh+s,t=1):t=0}var a=t>0?1:-1;O!==a&&(z.scrollmom&&z.scrollmom.stop(),z.newscrolly=z.getScrollTop(),O=a),z.lastdeltay-=t}(t||e)&&z.synched("relativexy",function(){var e=z.lastdeltay+z.newscrolly;z.lastdeltay=0;var t=z.lastdeltax+z.newscrollx;z.lastdeltax=0,z.rail.drag||z.doScrollPos(t,e)})}function k(e,t,o){var i,r;if(!o&&Y)return!0;if(0===e.deltaMode?(i=-e.deltaX*(E.mousescrollstep/54)|0,r=-e.deltaY*(E.mousescrollstep/54)|0):1===e.deltaMode&&(i=-e.deltaX*E.mousescrollstep*50/80|0,r=-e.deltaY*E.mousescrollstep*50/80|0),t&&E.oneaxismousemode&&0===i&&r&&(i=r,r=0,o)){(i<0?z.getScrollLeft()>=z.page.maxw:z.getScrollLeft()<=0)&&(r=i,i=0)}if(z.isrtlmode&&(i=-i),!T(i,r,o,!0))return Y=!1,e.stopImmediatePropagation(),e.preventDefault();o&&(Y=!0)}var z=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var C=s("body"),E=this.opt={doc:C,win:!1};if(s.extend(E,f),E.snapbackspeed=80,e)for(var $ in E)void 0!==e[$]&&(E[$]=e[$]);if(E.disablemutationobserver&&(g=!1),this.doc=E.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(E.win?E.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==E.win,this.win=E.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=C,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=E.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==E.rtlmode){var L=this.win[0]==l?this.body:this.win,M=L.css("writing-mode")||L.css("-webkit-writing-mode")||L.css("-ms-writing-mode")||L.css("-moz-writing-mode");"horizontal-tb"==M||"lr-tb"==M||""===M?(this.isrtlmode="rtl"==L.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==M||"tb"==M||"tb-rl"==M||"rl-tb"==M,this.isvertical="vertical-rl"==M||"tb"==M||"tb-rl"==M)}else this.isrtlmode=!0===E.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==E.scrollbarid)this.id=E.scrollbarid;else do{this.id="ascrail"+r++}while(a.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=E.overflowx,this.overflowy=E.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=w();var I=s.extend({},this.detected);this.canhwscroll=I.hastransform&&E.hwacceleration,this.ishwscroll=this.canhwscroll&&z.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(I.iswebkit||I.isie||I.isie11):this.hasreversehr=!(I.iswebkit||I.isie&&!I.isie10&&!I.isie11):this.hasreversehr=!1,this.istouchcapable=!1,I.cantouch||!I.hasw3ctouch&&!I.hasmstouch?!I.cantouch||I.isios||I.isandroid||!I.iswebkit&&!I.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,E.enablemouselockapi||(I.hasmousecapture=!1,I.haspointerlock=!1),this.debounced=function(e,t,o){if(z){z.delaylist[e]||!1||(z.delaylist[e]={h:u(function(){z.delaylist[e].fn.call(z),z.delaylist[e]=!1},o)},t.call(z)),z.delaylist[e].fn=t}},this.synched=function(e,t){z.synclist[e]?z.synclist[e]=t:(z.synclist[e]=t,u(function(){z&&(z.synclist[e]&&z.synclist[e].call(z),z.synclist[e]=null)}))},this.unsynched=function(e){z.synclist[e]&&(z.synclist[e]=!1)},this.css=function(e,t){for(var o in t)z.saved.css.push([e,o,e.css(o)]),e.css(o,t[o])},this.scrollTop=function(e){return void 0===e?z.getScrollTop():z.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?z.getScrollLeft():z.setScrollLeft(e)};var R=function(e,t,o,i,r,n,s){this.st=e,this.ed=t,this.spd=o,this.p1=i||0,this.p2=r||1,this.p3=n||0,this.p4=s||1,this.ts=m(),this.df=t-e};if(R.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var e=(m()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=m(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},I.hastranslate3d&&I.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[13]:-t[5];if(z.timerscroll&&z.timerscroll.bz)return z.timerscroll.bz.getNow()}return z.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[12]:-t[4];if(z.timerscroll&&z.timerscroll.bh)return z.timerscroll.bh.getNow()}return z.doc.translate.x},this.notifyScrollEvent=function(e){var t=a.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,l,1),t.niceevent=!0,e.dispatchEvent(t)};var P=this.isrtlmode?1:-1;I.hastranslate3d&&E.enabletranslate3d?(this.setScrollTop=function(e,t){z.doc.translate.y=e,z.doc.translate.ty=-1*e+"px",z.doc.css(I.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),t||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(e,t){z.doc.translate.x=e,z.doc.translate.tx=e*P+"px",z.doc.css(I.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),t||z.notifyScrollEvent(z.win[0])}):(this.setScrollTop=function(e,t){z.doc.translate.y=e,z.doc.translate.ty=-1*e+"px",z.doc.css(I.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),t||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(e,t){z.doc.translate.x=e,z.doc.translate.tx=e*P+"px",z.doc.css(I.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),t||z.notifyScrollEvent(z.win[0])})}else this.getScrollTop=function(){return z.docscroll.scrollTop()},this.setScrollTop=function(e){z.docscroll.scrollTop(e)},this.getScrollLeft=function(){return z.hasreversehr?z.detected.ismozilla?z.page.maxw-Math.abs(z.docscroll.scrollLeft()):z.page.maxw-z.docscroll.scrollLeft():z.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(z)return z.hasreversehr&&(e=z.detected.ismozilla?-(z.page.maxw-e):z.page.maxw-e),z.docscroll.scrollLeft(e)},1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var o=e.target||e.srcElement||e||!1;o&&o.id!=t;)o=o.parentNode||!1;return!1!==o};var N={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||a.documentElement.scrollTop,left:l.pageXOffset||a.documentElement.scrollLeft}},this.getOffset=function(){if(z.isfixed){var e=z.win.offset(),t=z.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var o=z.win.offset();if(!z.viewport)return o;var i=z.viewport.offset();return{top:o.top-i.top,left:o.left-i.left}},this.updateScrollBar=function(e){var t,o;if(z.ishwscroll)z.rail.css({height:z.win.innerHeight()-(E.railpadding.top+E.railpadding.bottom)}),z.railh&&z.railh.css({width:z.win.innerWidth()-(E.railpadding.left+E.railpadding.right)});else{var i=z.getOffset();if(t={top:i.top,left:i.left-(E.railpadding.left+E.railpadding.right)},t.top+=x(z.win,"border-top-width",!0),t.left+=z.rail.align?z.win.outerWidth()-x(z.win,"border-right-width")-z.rail.width:x(z.win,"border-left-width"),o=E.railoffset,o&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left)),z.railslocked||z.rail.css({top:t.top,left:t.left,height:(e?e.h:z.win.innerHeight())-(E.railpadding.top+E.railpadding.bottom)}),z.zoom&&z.zoom.css({top:t.top+1,left:1==z.rail.align?t.left-20:t.left+z.rail.width+4}),z.railh&&!z.railslocked){t={top:i.top,left:i.left},o=E.railhoffset,o&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left));var r=z.railh.align?t.top+x(z.win,"border-top-width",!0)+z.win.innerHeight()-z.railh.height:t.top+x(z.win,"border-top-width",!0),n=t.left+x(z.win,"border-left-width");z.railh.css({top:r-(E.railpadding.top+E.railpadding.bottom),left:n,width:z.railh.width})}}},this.doRailClick=function(e,t,o){var i,r,n,s;z.railslocked||(z.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+a.documentElement.scrollLeft,e.pageY=e.clientY+a.documentElement.scrollTop),t?(i=o?z.doScrollLeft:z.doScrollTop,n=o?(e.pageX-z.railh.offset().left-z.cursorwidth/2)*z.scrollratio.x:(e.pageY-z.rail.offset().top-z.cursorheight/2)*z.scrollratio.y,z.unsynched("relativexy"),i(0|n)):(i=o?z.doScrollLeftBy:z.doScrollBy,n=o?z.scroll.x:z.scroll.y,s=o?e.pageX-z.railh.offset().left:e.pageY-z.rail.offset().top,r=o?z.view.w:z.view.h,i(n>=s?r:-r)))},z.newscrolly=z.newscrollx=0,z.hasanimationframe="requestAnimationFrame"in l,z.hascancelanimationframe="cancelAnimationFrame"in l,z.hasborderbox=!1,this.init=function(){if(z.saved.css=[],I.isoperamini)return!0;if(I.isandroid&&!("hidden"in a))return!0;E.emulatetouch=E.emulatetouch||E.touchbehavior,z.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(a.body)["box-sizing"];var e={"overflow-y":"hidden"};if((I.isie11||I.isie10)&&(e["-ms-overflow-style"]="none"),z.ishwscroll&&(this.doc.css(I.transitionstyle,I.prefixstyle+"transform 0ms ease-out"),I.transitionend&&z.bind(z.doc,I.transitionend,z.onScrollTransitionEnd,!1)),z.zindex="auto",z.ispage||"auto"!=E.zindex?z.zindex=E.zindex:z.zindex=b()||"auto",!z.ispage&&"auto"!=z.zindex&&z.zindex>n&&(n=z.zindex),z.isie&&0===z.zindex&&"auto"==E.zindex&&(z.zindex="auto"),!z.ispage||!I.isieold){var r=z.docscroll;z.ispage&&(r=z.haswrapper?z.win:z.doc),z.css(r,e),z.ispage&&(I.isie11||I.isie)&&z.css(s("html"),e),!I.isios||z.ispage||z.haswrapper||z.css(C,{"-webkit-overflow-scrolling":"touch"});var d=s(a.createElement("div"));d.css({position:"relative",top:0,float:"right",width:E.cursorwidth,height:0,"background-color":E.cursorcolor,border:E.cursorborder,"background-clip":"padding-box","-webkit-border-radius":E.cursorborderradius,"-moz-border-radius":E.cursorborderradius,"border-radius":E.cursorborderradius}),d.addClass("nicescroll-cursors"),z.cursor=d;var u=s(a.createElement("div"));u.attr("id",z.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,m=["left","right","top","bottom"];for(var f in m)p=m[f],(h=E.railpadding[p]||0)&&u.css("padding-"+p,h+"px");u.append(d),u.width=Math.max(parseFloat(E.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:z.zindex,background:E.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==E.railalign?0:1,z.rail=u,z.rail.drag=!1;var v=!1;!E.boxzoom||z.ispage||I.isieold||(v=a.createElement("div"),z.bind(v,"click",z.doZoom),z.bind(v,"mouseenter",function(){z.zoom.css("opacity",E.cursoropacitymax)}),z.bind(v,"mouseleave",function(){z.zoom.css("opacity",E.cursoropacitymin)}),z.zoom=s(v),z.zoom.css({cursor:"pointer",zIndex:z.zindex,backgroundImage:"url("+E.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),E.dblclickzoom&&z.bind(z.win,"dblclick",z.doZoom),I.cantouch&&E.gesturezoom&&(z.ongesturezoom=function(e){return e.scale>1.5&&z.doZoomIn(e),e.scale<.8&&z.doZoomOut(e),z.cancelEvent(e)},z.bind(z.win,"gestureend",z.ongesturezoom))),z.railh=!1;var w;if(E.horizrailenabled&&(z.css(r,{overflowX:"hidden"}),d=s(a.createElement("div")),d.css({position:"absolute",top:0,height:E.cursorwidth,width:0,backgroundColor:E.cursorcolor,border:E.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":E.cursorborderradius,"-moz-border-radius":E.cursorborderradius,"border-radius":E.cursorborderradius}),I.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),z.cursorh=d,w=s(a.createElement("div")),w.attr("id",z.id+"-hr"),w.addClass("nicescroll-rails nicescroll-rails-hr"),w.height=Math.max(parseFloat(E.cursorwidth),d.outerHeight()),w.css({height:w.height+"px",zIndex:z.zindex,background:E.background}),w.append(d),w.visibility=!0,w.scrollable=!0,w.align="top"==E.railvalign?0:1,z.railh=w,z.railh.drag=!1),z.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),z.body.append(u),z.railh&&(w.css({position:"fixed",left:0,width:"100%"}),w.css(w.align?{bottom:0}:{top:0}),z.body.append(w));else{if(z.ishwscroll){"static"==z.win.css("position")&&z.css(z.win,{position:"relative"});var x="HTML"==z.win[0].nodeName?z.body:z.win;s(x).scrollTop(0).scrollLeft(0),z.zoom&&(z.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),x.append(z.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),x.append(u),w&&(w.css({position:"absolute",left:0,bottom:0}),w.css(w.align?{bottom:0}:{top:0}),x.append(w))}else{z.isfixed="fixed"==z.win.css("position");var S=z.isfixed?"fixed":"absolute";z.isfixed||(z.viewport=z.getViewport(z.win[0])),z.viewport&&(z.body=z.viewport,/fixed|absolute/.test(z.viewport.css("position"))||z.css(z.viewport,{position:"relative"})),u.css({position:S}),z.zoom&&z.zoom.css({position:S}),z.updateScrollBar(),z.body.append(u),z.zoom&&z.body.append(z.zoom),z.railh&&(w.css({position:S}),z.body.append(w))}I.isios&&z.css(z.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),E.disableoutline&&(I.isie&&z.win.attr("hideFocus","true"),I.iswebkit&&z.win.css("outline","none"))}if(!1===E.autohidemode?(z.autohidedom=!1,z.rail.css({opacity:E.cursoropacitymax}),z.railh&&z.railh.css({opacity:E.cursoropacitymax})):!0===E.autohidemode||"leave"===E.autohidemode?(z.autohidedom=s().add(z.rail),I.isie8&&(z.autohidedom=z.autohidedom.add(z.cursor)),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh)),z.railh&&I.isie8&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"scroll"==E.autohidemode?(z.autohidedom=s().add(z.rail),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh))):"cursor"==E.autohidemode?(z.autohidedom=s().add(z.cursor),z.railh&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"hidden"==E.autohidemode&&(z.autohidedom=!1,z.hide(),z.railslocked=!1),I.cantouch||z.istouchcapable||E.emulatetouch||I.hasmstouch){z.scrollmom=new y(z);z.ontouchstart=function(e){if(z.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(z.hasmoving=!1,z.scrollmom.timer&&(z.triggerScrollEnd(),z.scrollmom.stop()),!z.railslocked){var t=z.getTarget(e);if(t){if(/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return z.stopPropagation(e)}var o="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),z.forcescreen){var i=e;e={original:e.original?e.original:e},e.clientX=i.screenX,e.clientY=i.screenY}if(z.rail.drag={x:e.clientX,y:e.clientY,sx:z.scroll.x,sy:z.scroll.y,st:z.getScrollTop(),sl:z.getScrollLeft(),pt:2,dl:!1,tg:t},z.ispage||!E.directionlockdeadzone)z.rail.drag.dl="f";else{var r={w:c.width(),h:c.height()},n=z.getContentSize(),a=n.h-r.h,l=n.w-r.w;z.rail.scrollable&&!z.railh.scrollable?z.rail.drag.ck=a>0&&"v":!z.rail.scrollable&&z.railh.scrollable?z.rail.drag.ck=l>0&&"h":z.rail.drag.ck=!1}if(E.emulatetouch&&z.isiframe&&I.isie){var d=z.win.position();z.rail.drag.x+=d.left,z.rail.drag.y+=d.top}if(z.hasmoving=!1,z.lastmouseup=!1,z.scrollmom.reset(e.clientX,e.clientY),t&&o){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return I.hasmousecapture&&t.setCapture(),E.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(z.hasmoving)return!1;t._onclick.call(this,e)}),z.cancelEvent(e)):z.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(s(t).attr("type"))&&(z.preventclick={tg:t,click:!1})}}},z.ontouchend=function(e){if(!z.rail.drag)return!0;if(2==z.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;z.rail.drag=!1;var t="mouseup"===e.type;if(z.hasmoving&&(z.scrollmom.doMomentum(),z.lastmouseup=!0,z.hideCursor(),I.hasmousecapture&&a.releaseCapture(),t))return z.cancelEvent(e)}else if(1==z.rail.drag.pt)return z.onmouseup(e)};var T=E.emulatetouch&&z.isiframe&&!I.hasmousecapture,k=.3*E.directionlockdeadzone|0;z.ontouchmove=function(e,t){if(!z.rail.drag)return!0;if(e.targetTouches&&E.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==z.rail.drag.pt){"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY);var o,i;if(i=o=0,T&&!t){var r=z.win.position();i=-r.left,o=-r.top}var n=e.clientY+o,s=n-z.rail.drag.y,l=e.clientX+i,c=l-z.rail.drag.x,d=z.rail.drag.st-s;if(z.ishwscroll&&E.bouncescroll)d<0?d=Math.round(d/2):d>z.page.maxh&&(d=z.page.maxh+Math.round((d-z.page.maxh)/2));else if(d<0?(d=0,n=0):d>z.page.maxh&&(d=z.page.maxh,n=0),0===n&&!z.hasmoving)return z.ispage||(z.rail.drag=!1),!0;var u=z.getScrollLeft();if(z.railh&&z.railh.scrollable&&(u=z.isrtlmode?c-z.rail.drag.sl:z.rail.drag.sl-c,z.ishwscroll&&E.bouncescroll?u<0?u=Math.round(u/2):u>z.page.maxw&&(u=z.page.maxw+Math.round((u-z.page.maxw)/2)):(u<0&&(u=0,l=0),u>z.page.maxw&&(u=z.page.maxw,l=0))),!z.hasmoving){if(z.rail.drag.y===e.clientY&&z.rail.drag.x===e.clientX)return z.cancelEvent(e);var h=Math.abs(s),p=Math.abs(c),g=E.directionlockdeadzone;if(z.rail.drag.ck?"v"==z.rail.drag.ck?p>g&&h<=k?z.rail.drag=!1:h>g&&(z.rail.drag.dl="v"):"h"==z.rail.drag.ck&&(h>g&&p<=k?z.rail.drag=!1:p>g&&(z.rail.drag.dl="h")):h>g&&p>g?z.rail.drag.dl="f":h>g?z.rail.drag.dl=p>k?"f":"v":p>g&&(z.rail.drag.dl=h>k?"f":"h"),!z.rail.drag.dl)return z.cancelEvent(e);z.triggerScrollStart(e.clientX,e.clientY,0,0,0),z.hasmoving=!0}return z.preventclick&&!z.preventclick.click&&(z.preventclick.click=z.preventclick.tg.onclick||!1,z.preventclick.tg.onclick=z.onpreventclick),z.rail.drag.dl&&("v"==z.rail.drag.dl?u=z.rail.drag.sl:"h"==z.rail.drag.dl&&(d=z.rail.drag.st)),z.synched("touchmove",function(){z.rail.drag&&2==z.rail.drag.pt&&(z.prepareTransition&&z.resetTransition(),z.rail.scrollable&&z.setScrollTop(d),z.scrollmom.update(l,n),z.railh&&z.railh.scrollable?(z.setScrollLeft(u),z.showCursor(d,u)):z.showCursor(d),I.isie10&&a.selection.clear())}),z.cancelEvent(e)}return 1==z.rail.drag.pt?z.onmousemove(e):void 0},z.ontouchstartCursor=function(e,t){if(!z.rail.drag||3==z.rail.drag.pt){if(z.locked)return z.cancelEvent(e);z.cancelScroll(),z.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:z.scroll.x,sy:z.scroll.y,pt:3,hr:!!t};var o=z.getTarget(e);return!z.ispage&&I.hasmousecapture&&o.setCapture(),z.isiframe&&!I.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.cancelEvent(e)}},z.ontouchendCursor=function(e){if(z.rail.drag){if(I.hasmousecapture&&a.releaseCapture(),z.isiframe&&!I.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),3!=z.rail.drag.pt)return;return z.rail.drag=!1,z.cancelEvent(e)}},z.ontouchmoveCursor=function(e){if(z.rail.drag){if(3!=z.rail.drag.pt)return;if(z.cursorfreezed=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(e.touches[0].clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var t=z.scrollvaluemaxw;z.scroll.x>t&&(z.scroll.x=t)}else{z.scroll.y=z.rail.drag.sy+(e.touches[0].clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var o=z.scrollvaluemax;z.scroll.y>o&&(z.scroll.y=o)}return z.synched("touchmove",function(){z.rail.drag&&3==z.rail.drag.pt&&(z.showCursor(),z.rail.drag.hr?z.doScrollLeft(Math.round(z.scroll.x*z.scrollratio.x),E.cursordragspeed):z.doScrollTop(Math.round(z.scroll.y*z.scrollratio.y),E.cursordragspeed))}),z.cancelEvent(e)}}}if(z.onmousedown=function(e,t){if(!z.rail.drag||1==z.rail.drag.pt){if(z.railslocked)return z.cancelEvent(e);z.cancelScroll(),z.rail.drag={x:e.clientX,y:e.clientY,sx:z.scroll.x,sy:z.scroll.y,pt:1,hr:t||!1};var o=z.getTarget(e);return I.hasmousecapture&&o.setCapture(),z.isiframe&&!I.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.hasmoving=!1,z.cancelEvent(e)}},z.onmouseup=function(e){if(z.rail.drag)return 1!=z.rail.drag.pt||(I.hasmousecapture&&a.releaseCapture(),z.isiframe&&!I.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),z.rail.drag=!1,z.cursorfreezed=!1,z.hasmoving&&z.triggerScrollEnd(),z.cancelEvent(e))},z.onmousemove=function(e){if(z.rail.drag){if(1!==z.rail.drag.pt)return;if(I.ischrome&&0===e.which)return z.onmouseup(e);if(z.cursorfreezed=!0,z.hasmoving||z.triggerScrollStart(e.clientX,e.clientY,0,0,0),z.hasmoving=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(e.clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var t=z.scrollvaluemaxw;z.scroll.x>t&&(z.scroll.x=t)}else{z.scroll.y=z.rail.drag.sy+(e.clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var o=z.scrollvaluemax;z.scroll.y>o&&(z.scroll.y=o)}return z.synched("mousemove",function(){z.cursorfreezed&&(z.showCursor(),z.rail.drag.hr?z.scrollLeft(Math.round(z.scroll.x*z.scrollratio.x)):z.scrollTop(Math.round(z.scroll.y*z.scrollratio.y)))}),z.cancelEvent(e)}z.checkarea=0},I.cantouch||E.emulatetouch)z.onpreventclick=function(e){if(z.preventclick)return z.preventclick.tg.onclick=z.preventclick.click,z.preventclick=!1,z.cancelEvent(e)},z.onclick=!I.isios&&function(e){return!z.lastmouseup||(z.lastmouseup=!1,z.cancelEvent(e))},E.grabcursorenabled&&I.cursorgrabvalue&&(z.css(z.ispage?z.doc:z.win,{cursor:I.cursorgrabvalue}),z.css(z.rail,{cursor:I.cursorgrabvalue}));else{var $=function(e){if(z.selectiondrag){if(e){var t=z.win.outerHeight(),o=e.pageY-z.selectiondrag.top;o>0&&o<t&&(o=0),o>=t&&(o-=t),z.selectiondrag.df=o}if(0!==z.selectiondrag.df){var i=-2*z.selectiondrag.df/6|0;z.doScrollBy(i),z.debounced("doselectionscroll",function(){$()},50)}}};z.hasTextSelected="getSelection"in a?function(){return a.getSelection().rangeCount>0}:"selection"in a?function(){return"None"!=a.selection.type}:function(){return!1},z.onselectionstart=function(e){z.ispage||(z.selectiondrag=z.win.offset())},z.onselectionend=function(e){z.selectiondrag=!1},z.onselectiondrag=function(e){z.selectiondrag&&z.hasTextSelected()&&z.debounced("selectionscroll",function(){$(e)},250)}}if(I.hasw3ctouch?(z.css(z.ispage?s("html"):z.win,{"touch-action":"none"}),z.css(z.rail,{"touch-action":"none"}),z.css(z.cursor,{"touch-action":"none"}),z.bind(z.win,"pointerdown",z.ontouchstart),z.bind(a,"pointerup",z.ontouchend),z.delegate(a,"pointermove",z.ontouchmove)):I.hasmstouch?(z.css(z.ispage?s("html"):z.win,{"-ms-touch-action":"none"}),z.css(z.rail,{"-ms-touch-action":"none"}),z.css(z.cursor,{"-ms-touch-action":"none"}),z.bind(z.win,"MSPointerDown",z.ontouchstart),z.bind(a,"MSPointerUp",z.ontouchend),z.delegate(a,"MSPointerMove",z.ontouchmove),z.bind(z.cursor,"MSGestureHold",function(e){e.preventDefault()}),z.bind(z.cursor,"contextmenu",function(e){e.preventDefault()})):I.cantouch&&(z.bind(z.win,"touchstart",z.ontouchstart,!1,!0),z.bind(a,"touchend",z.ontouchend,!1,!0),z.bind(a,"touchcancel",z.ontouchend,!1,!0),z.delegate(a,"touchmove",z.ontouchmove,!1,!0)),E.emulatetouch&&(z.bind(z.win,"mousedown",z.ontouchstart,!1,!0),z.bind(a,"mouseup",z.ontouchend,!1,!0),z.bind(a,"mousemove",z.ontouchmove,!1,!0)),(E.cursordragontouch||!I.cantouch&&!E.emulatetouch)&&(z.rail.css({cursor:"default"}),z.railh&&z.railh.css({cursor:"default"}),z.jqbind(z.rail,"mouseenter",function(){if(!z.ispage&&!z.win.is(":visible"))return!1;z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0}),z.jqbind(z.rail,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}),E.sensitiverail&&(z.bind(z.rail,"click",function(e){z.doRailClick(e,!1,!1)}),z.bind(z.rail,"dblclick",function(e){z.doRailClick(e,!0,!1)}),z.bind(z.cursor,"click",function(e){z.cancelEvent(e)}),z.bind(z.cursor,"dblclick",function(e){z.cancelEvent(e)})),z.railh&&(z.jqbind(z.railh,"mouseenter",function(){if(!z.ispage&&!z.win.is(":visible"))return!1;z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0}),z.jqbind(z.railh,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}),E.sensitiverail&&(z.bind(z.railh,"click",function(e){z.doRailClick(e,!1,!0)}),z.bind(z.railh,"dblclick",function(e){z.doRailClick(e,!0,!0)}),z.bind(z.cursorh,"click",function(e){z.cancelEvent(e)}),z.bind(z.cursorh,"dblclick",function(e){z.cancelEvent(e)})))),E.cursordragontouch&&(this.istouchcapable||I.cantouch)&&(z.bind(z.cursor,"touchstart",z.ontouchstartCursor),z.bind(z.cursor,"touchmove",z.ontouchmoveCursor),z.bind(z.cursor,"touchend",z.ontouchendCursor),z.cursorh&&z.bind(z.cursorh,"touchstart",function(e){z.ontouchstartCursor(e,!0)}),z.cursorh&&z.bind(z.cursorh,"touchmove",z.ontouchmoveCursor),z.cursorh&&z.bind(z.cursorh,"touchend",z.ontouchendCursor)),E.emulatetouch||I.isandroid||I.isios?(z.bind(I.hasmousecapture?z.win:a,"mouseup",z.ontouchend),z.onclick&&z.bind(a,"click",z.onclick),E.cursordragontouch?(z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.cursorh&&z.bind(z.cursorh,"mousedown",function(e){z.onmousedown(e,!0)}),
z.cursorh&&z.bind(z.cursorh,"mouseup",z.onmouseup)):(z.bind(z.rail,"mousedown",function(e){e.preventDefault()}),z.railh&&z.bind(z.railh,"mousedown",function(e){e.preventDefault()}))):(z.bind(I.hasmousecapture?z.win:a,"mouseup",z.onmouseup),z.bind(a,"mousemove",z.onmousemove),z.onclick&&z.bind(a,"click",z.onclick),z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.railh&&(z.bind(z.cursorh,"mousedown",function(e){z.onmousedown(e,!0)}),z.bind(z.cursorh,"mouseup",z.onmouseup)),!z.ispage&&E.enablescrollonselection&&(z.bind(z.win[0],"mousedown",z.onselectionstart),z.bind(a,"mouseup",z.onselectionend),z.bind(z.cursor,"mouseup",z.onselectionend),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onselectionend),z.bind(a,"mousemove",z.onselectiondrag)),z.zoom&&(z.jqbind(z.zoom,"mouseenter",function(){z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0}),z.jqbind(z.zoom,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}))),E.enablemousewheel&&(z.isiframe||z.mousewheel(I.isie&&z.ispage?a:z.win,z.onmousewheel),z.mousewheel(z.rail,z.onmousewheel),z.railh&&z.mousewheel(z.railh,z.onmousewheelhr)),z.ispage||I.cantouch||/HTML|^BODY/.test(z.win[0].nodeName)||(z.win.attr("tabindex")||z.win.attr({tabindex:++i}),z.bind(z.win,"focus",function(e){t=z.getTarget(e).id||z.getTarget(e)||!1,z.hasfocus=!0,z.canshowonmouseevent&&z.noticeCursor()}),z.bind(z.win,"blur",function(e){t=!1,z.hasfocus=!1}),z.bind(z.win,"mouseenter",function(e){o=z.getTarget(e).id||z.getTarget(e)||!1,z.hasmousefocus=!0,z.canshowonmouseevent&&z.noticeCursor()}),z.bind(z.win,"mouseleave",function(e){o=!1,z.hasmousefocus=!1,z.rail.drag||z.hideCursor()})),z.onkeypress=function(e){if(z.railslocked&&0===z.page.maxh)return!0;e=e||l.event;var i=z.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)){if(!(i.getAttribute("type")||i.type||!1)||!/submit|button|cancel/i.tp)return!0}if(s(i).attr("contenteditable"))return!0;if(z.hasfocus||z.hasmousefocus&&!t||z.ispage&&!t&&!o){var r=e.keyCode;if(z.railslocked&&27!=r)return z.cancelEvent(e);var n=e.ctrlKey||!1,a=e.shiftKey||!1,c=!1;switch(r){case 38:case 63233:z.doScrollBy(72),c=!0;break;case 40:case 63235:z.doScrollBy(-72),c=!0;break;case 37:case 63232:z.railh&&(n?z.doScrollLeft(0):z.doScrollLeftBy(72),c=!0);break;case 39:case 63234:z.railh&&(n?z.doScrollLeft(z.page.maxw):z.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:z.doScrollBy(z.view.h),c=!0;break;case 34:case 63277:z.doScrollBy(-z.view.h),c=!0;break;case 36:case 63273:z.railh&&n?z.doScrollPos(0,0):z.doScrollTo(0),c=!0;break;case 35:case 63275:z.railh&&n?z.doScrollPos(z.page.maxw,z.page.maxh):z.doScrollTo(z.page.maxh),c=!0;break;case 32:E.spacebarenabled&&(a?z.doScrollBy(z.view.h):z.doScrollBy(-z.view.h),c=!0);break;case 27:z.zoomactive&&(z.doZoom(),c=!0)}if(c)return z.cancelEvent(e)}},E.enablekeyboard&&z.bind(a,I.isopera&&!I.isopera12?"keypress":"keydown",z.onkeypress),z.bind(a,"keydown",function(e){(e.ctrlKey||!1)&&(z.wheelprevented=!0)}),z.bind(a,"keyup",function(e){e.ctrlKey||!1||(z.wheelprevented=!1)}),z.bind(l,"blur",function(e){z.wheelprevented=!1}),z.bind(l,"resize",z.onscreenresize),z.bind(l,"orientationchange",z.onscreenresize),z.bind(l,"load",z.lazyResize),I.ischrome&&!z.ispage&&!z.haswrapper){var L=z.win.attr("style"),M=parseFloat(z.win.css("width"))+1;z.win.css("width",M),z.synched("chromefix",function(){z.win.attr("style",L)})}if(z.onAttributeChange=function(e){z.lazyResize(z.isieold?250:30)},E.enableobserver&&(z.isie11||!1===g||(z.observerbody=new g(function(e){if(e.forEach(function(e){if("attributes"==e.type)return C.hasClass("modal-open")&&C.hasClass("modal-dialog")&&!s.contains(s(".modal-dialog")[0],z.doc[0])?z.hide():z.show()}),z.me.clientWidth!=z.page.width||z.me.clientHeight!=z.page.height)return z.lazyResize(30)}),z.observerbody.observe(a.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!z.ispage&&!z.haswrapper)){var R=z.win[0];!1!==g?(z.observer=new g(function(e){e.forEach(z.onAttributeChange)}),z.observer.observe(R,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),z.observerremover=new g(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(z&&e.removedNodes[t]===R)return z.remove()})}),z.observerremover.observe(R.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(z.bind(R,I.isie&&!I.isie9?"propertychange":"DOMAttrModified",z.onAttributeChange),I.isie9&&R.attachEvent("onpropertychange",z.onAttributeChange),z.bind(R,"DOMNodeRemoved",function(e){e.target===R&&z.remove()}))}!z.ispage&&E.boxzoom&&z.bind(l,"resize",z.resizeZoom),z.istextarea&&(z.bind(z.win,"keydown",z.lazyResize),z.bind(z.win,"mouseup",z.lazyResize)),z.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var P=function(){z.iframexd=!1;var t;try{t="contentDocument"in this?this.contentDocument:this.contentWindow._doc;t.domain}catch(e){z.iframexd=!0,t=!1}if(z.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(z.forcescreen=!0,z.isiframe&&(z.iframe={doc:s(t),html:z.doc.contents().find("html")[0],body:z.doc.contents().find("body")[0]},z.getContentSize=function(){return{w:Math.max(z.iframe.html.scrollWidth,z.iframe.body.scrollWidth),h:Math.max(z.iframe.html.scrollHeight,z.iframe.body.scrollHeight)}},z.docscroll=s(z.iframe.body)),!I.isios&&E.iframeautoresize&&!z.isiframe){z.win.scrollTop(0),z.doc.height("");var o=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);z.doc.height(o)}z.lazyResize(30),z.css(s(z.iframe.body),e),I.isios&&z.haswrapper&&z.css(s(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?z.bind(this.contentWindow,"scroll",z.onscroll):z.bind(t,"scroll",z.onscroll),E.enablemousewheel&&z.mousewheel(t,z.onmousewheel),E.enablekeyboard&&z.bind(t,I.isopera?"keypress":"keydown",z.onkeypress),I.cantouch?(z.bind(t,"touchstart",z.ontouchstart),z.bind(t,"touchmove",z.ontouchmove)):E.emulatetouch&&(z.bind(t,"mousedown",z.ontouchstart),z.bind(t,"mousemove",function(e){return z.ontouchmove(e,!0)}),E.grabcursorenabled&&I.cursorgrabvalue&&z.css(s(t.body),{cursor:I.cursorgrabvalue})),z.bind(t,"mouseup",z.ontouchend),z.zoom&&(E.dblclickzoom&&z.bind(t,"dblclick",z.doZoom),z.ongesturezoom&&z.bind(t,"gestureend",z.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){P.call(z.doc[0],!1)},500),z.bind(this.doc,"load",P)}},this.showCursor=function(e,t){if(z.cursortimeout&&(clearTimeout(z.cursortimeout),z.cursortimeout=0),z.rail){if(z.autohidedom&&(z.autohidedom.stop().css({opacity:E.cursoropacitymax}),z.cursoractive=!0),z.rail.drag&&1==z.rail.drag.pt||(void 0!==e&&!1!==e&&(z.scroll.y=e/z.scrollratio.y|0),void 0!==t&&(z.scroll.x=t/z.scrollratio.x|0)),z.cursor.css({height:z.cursorheight,top:z.scroll.y}),z.cursorh){var o=z.hasreversehr?z.scrollvaluemaxw-z.scroll.x:z.scroll.x;z.cursorh.css({width:z.cursorwidth,left:!z.rail.align&&z.rail.visibility?o+z.rail.width:o}),z.cursoractive=!0}z.zoom&&z.zoom.stop().css({opacity:E.cursoropacitymax})}},this.hideCursor=function(e){z.cursortimeout||z.rail&&z.autohidedom&&(z.hasmousefocus&&"leave"===E.autohidemode||(z.cursortimeout=setTimeout(function(){z.rail.active&&z.showonmouseevent||(z.autohidedom.stop().animate({opacity:E.cursoropacitymin}),z.zoom&&z.zoom.stop().animate({opacity:E.cursoropacitymin}),z.cursoractive=!1),z.cursortimeout=0},e||E.hidecursordelay)))},this.noticeCursor=function(e,t,o){z.showCursor(t,o),z.rail.active||z.hideCursor(e)},this.getContentSize=z.ispage?function(){return{w:Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),h:Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)}}:z.haswrapper?function(){return{w:z.doc[0].offsetWidth,h:z.doc[0].offsetHeight}}:function(){return{w:z.docscroll[0].scrollWidth,h:z.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!z||!z.win)return!1;var o=z.page.maxh,i=z.page.maxw,r=z.view.h,n=z.view.w;if(z.view={w:z.ispage?z.win.width():z.win[0].clientWidth,h:z.ispage?z.win.height():z.win[0].clientHeight},z.page=t||z.getContentSize(),z.page.maxh=Math.max(0,z.page.h-z.view.h),z.page.maxw=Math.max(0,z.page.w-z.view.w),z.page.maxh==o&&z.page.maxw==i&&z.view.w==n&&z.view.h==r){if(z.ispage)return z;var s=z.win.offset();if(z.lastposition){var a=z.lastposition;if(a.top==s.top&&a.left==s.left)return z}z.lastposition=s}return 0===z.page.maxh?(z.hideRail(),z.scrollvaluemax=0,z.scroll.y=0,z.scrollratio.y=0,z.cursorheight=0,z.setScrollTop(0),z.rail&&(z.rail.scrollable=!1)):(z.page.maxh-=E.railpadding.top+E.railpadding.bottom,z.rail.scrollable=!0),0===z.page.maxw?(z.hideRailHr(),z.scrollvaluemaxw=0,z.scroll.x=0,z.scrollratio.x=0,z.cursorwidth=0,z.setScrollLeft(0),z.railh&&(z.railh.scrollable=!1)):(z.page.maxw-=E.railpadding.left+E.railpadding.right,z.railh&&(z.railh.scrollable=E.horizrailenabled)),z.railslocked=z.locked||0===z.page.maxh&&0===z.page.maxw,z.railslocked?(z.ispage||z.updateScrollBar(z.view),!1):(z.hidden||(z.rail.visibility||z.showRail(),z.railh&&!z.railh.visibility&&z.showRailHr()),z.istextarea&&z.win.css("resize")&&"none"!=z.win.css("resize")&&(z.view.h-=20),z.cursorheight=Math.min(z.view.h,Math.round(z.view.h*(z.view.h/z.page.h))),z.cursorheight=E.cursorfixedheight?E.cursorfixedheight:Math.max(E.cursorminheight,z.cursorheight),z.cursorwidth=Math.min(z.view.w,Math.round(z.view.w*(z.view.w/z.page.w))),z.cursorwidth=E.cursorfixedheight?E.cursorfixedheight:Math.max(E.cursorminheight,z.cursorwidth),z.scrollvaluemax=z.view.h-z.cursorheight-(E.railpadding.top+E.railpadding.bottom),z.hasborderbox||(z.scrollvaluemax-=z.cursor[0].offsetHeight-z.cursor[0].clientHeight),z.railh&&(z.railh.width=z.page.maxh>0?z.view.w-z.rail.width:z.view.w,z.scrollvaluemaxw=z.railh.width-z.cursorwidth-(E.railpadding.left+E.railpadding.right)),z.ispage||z.updateScrollBar(z.view),z.scrollratio={x:z.page.maxw/z.scrollvaluemaxw,y:z.page.maxh/z.scrollvaluemax},z.getScrollTop()>z.page.maxh?z.doScrollTop(z.page.maxh):(z.scroll.y=z.getScrollTop()/z.scrollratio.y|0,z.scroll.x=z.getScrollLeft()/z.scrollratio.x|0,z.cursoractive&&z.noticeCursor()),z.scroll.y&&0===z.getScrollTop()&&z.doScrollTo(z.scroll.y*z.scrollratio.y|0),z)},this.resize=z.onResize;var _=0;this.onscreenresize=function(e){clearTimeout(_);var t=!z.ispage&&!z.haswrapper;t&&z.hideRails(),_=setTimeout(function(){z&&(t&&z.showRails(),z.resize()),_=0},120)},this.lazyResize=function(e){return clearTimeout(_),e=isNaN(e)?240:e,_=setTimeout(function(){z&&z.resize(),_=0},e),z},this.jqbind=function(e,t,o){z.events.push({e:e,n:t,f:o,q:!0}),s(e).on(t,o)},this.mousewheel=function(e,t,o){var i="jquery"in e?e[0]:e;if("onwheel"in a.createElement("div"))z._bind(i,"wheel",t,o||!1);else{var r=void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll";S(i,r,t,o||!1),"DOMMouseScroll"==r&&S(i,"MozMousePixelScroll",t,o||!1)}};var B=!1;if(I.haseventlistener){try{var H=Object.defineProperty({},"passive",{get:function(){B=!0}});l.addEventListener("test",null,H)}catch(e){}this.stopPropagation=function(e){return!!e&&(e=e.original?e.original:e,e.stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=a.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,o){this.attachEvent("on"+e,t)},l.constructor.prototype.removeEventListener=a.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,o){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return e=e||l.event,e&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return e=e||l.event,e&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,o,i,r){var n=d[t]||!1;n||(n={a:[],l:[],f:function(e){for(var t=n.l,o=t.length-1,i=!1,r=o;r>=0;r--)if(!1===(i=t[r].call(e.target,e)))return!1;return i}},z.bind(e,t,n.f,i,r),d[t]=n),z.ispage?(n.a=[z.id].concat(n.a),n.l=[o].concat(n.l)):(n.a.push(z.id),n.l.push(o))},this.undelegate=function(e,t,o,i,r){var n=d[t]||!1;if(n&&n.l)for(var s=0,a=n.l.length;s<a;s++)n.a[s]===z.id&&(n.a.splice(s),n.l.splice(s),0===n.a.length&&(z._unbind(e,t,n.l.f),d[t]=null))},this.bind=function(e,t,o,i,r){var n="jquery"in e?e[0]:e;z._bind(n,t,o,i||!1,r||!1)},this._bind=function(e,t,o,i,r){z.events.push({e:e,n:t,f:o,b:i,q:!1}),B&&r?e.addEventListener(t,o,{passive:!1,capture:i}):e.addEventListener(t,o,i||!1)},this._unbind=function(e,t,o,i){d[t]?z.undelegate(e,t,o,i):e.removeEventListener(t,o,i)},this.unbindAll=function(){for(var e=0;e<z.events.length;e++){var t=z.events[e];t.q?t.e.unbind(t.n,t.f):z._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return z.showRail().showRailHr()},this.showRail=function(){return 0===z.page.maxh||!z.ispage&&"none"==z.win.css("display")||(z.rail.visibility=!0,z.rail.css("display","block")),z},this.showRailHr=function(){return z.railh&&(0===z.page.maxw||!z.ispage&&"none"==z.win.css("display")||(z.railh.visibility=!0,z.railh.css("display","block"))),z},this.hideRails=function(){return z.hideRail().hideRailHr()},this.hideRail=function(){return z.rail.visibility=!1,z.rail.css("display","none"),z},this.hideRailHr=function(){return z.railh&&(z.railh.visibility=!1,z.railh.css("display","none")),z},this.show=function(){return z.hidden=!1,z.railslocked=!1,z.showRails()},this.hide=function(){return z.hidden=!0,z.railslocked=!0,z.hideRails()},this.toggle=function(){return z.hidden?z.show():z.hide()},this.remove=function(){z.stop(),z.cursortimeout&&clearTimeout(z.cursortimeout);for(var e in z.delaylist)z.delaylist[e]&&h(z.delaylist[e].h);z.doZoomOut(),z.unbindAll(),I.isie9&&z.win[0].detachEvent("onpropertychange",z.onAttributeChange),!1!==z.observer&&z.observer.disconnect(),!1!==z.observerremover&&z.observerremover.disconnect(),!1!==z.observerbody&&z.observerbody.disconnect(),z.events=null,z.cursor&&z.cursor.remove(),z.cursorh&&z.cursorh.remove(),z.rail&&z.rail.remove(),z.railh&&z.railh.remove(),z.zoom&&z.zoom.remove();for(var t=0;t<z.saved.css.length;t++){var o=z.saved.css[t];o[0].css(o[1],void 0===o[2]?"":o[2])}z.saved=!1,z.me.data("__nicescroll","");var i=s.nicescroll;i.each(function(e){if(this&&this.id===z.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];i.length--,i.length&&delete i[i.length]}});for(var r in z)z[r]=null,delete z[r];z=null},this.scrollstart=function(e){return this.onscrollstart=e,z},this.scrollend=function(e){return this.onscrollend=e,z},this.scrollcancel=function(e){return this.onscrollcancel=e,z},this.zoomin=function(e){return this.onzoomin=e,z},this.zoomout=function(e){return this.onzoomout=e,z},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var o=s(t);if(/scroll|auto/.test(o.css("overflowY")||o.css("overflowX")||o.css("overflow")||""))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var o=s(t);if(/fixed|absolute/.test(o.css("position")))return o;if(/scroll|auto/.test(o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"")&&t.clientHeight!=t.scrollHeight)return o;if(o.getNiceScroll().length>0)return o;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,o,i,r){if(z.onscrollstart){var n={type:"scrollstart",current:{x:e,y:t},request:{x:o,y:i},end:{x:z.newscrollx,y:z.newscrolly},speed:r};z.onscrollstart.call(z,n)}},this.triggerScrollEnd=function(){if(z.onscrollend){var e=z.getScrollLeft(),t=z.getScrollTop(),o={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};z.onscrollend.call(z,o)}};var O=0,A=0,D=0,j=1,Y=!1;if(this.onmousewheel=function(e){if(z.wheelprevented||z.locked)return!1;if(z.railslocked)return z.debounced("checkunlock",z.resize,250),!1;if(z.rail.drag)return z.cancelEvent(e);if("auto"===E.oneaxismousemode&&0!==e.deltaX&&(E.oneaxismousemode=!1),E.oneaxismousemode&&0===e.deltaX&&!z.rail.scrollable)return!z.railh||!z.railh.scrollable||z.onmousewheelhr(e);var t=m(),o=!1;if(E.preservenativescrolling&&z.checkarea+600<t&&(z.nativescrollingarea=z.isScrollable(e),o=!0),z.checkarea=t,z.nativescrollingarea)return!0;var i=k(e,!1,o);return i&&(z.checkarea=0),i},this.onmousewheelhr=function(e){if(!z.wheelprevented){if(z.railslocked||!z.railh.scrollable)return!0;if(z.rail.drag)return z.cancelEvent(e);var t=m(),o=!1;return E.preservenativescrolling&&z.checkarea+600<t&&(z.nativescrollingarea=z.isScrollable(e),o=!0),z.checkarea=t,!!z.nativescrollingarea||(z.railslocked?z.cancelEvent(e):k(e,!0,o))}},this.stop=function(){return z.cancelScroll(),z.scrollmon&&z.scrollmon.stop(),z.cursorfreezed=!1,z.scroll.y=Math.round(z.getScrollTop()*(1/z.scrollratio.y)),z.noticeCursor(),z},this.getTransitionSpeed=function(e){return 80+e/72*E.scrollspeed|0},E.smoothscroll)if(z.ishwscroll&&I.hastransition&&E.usetransition&&E.smoothscroll){var q="";this.resetTransition=function(){q="",z.doc.css(I.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var o=t?e:z.getTransitionSpeed(e),i=o+"ms";return q!==i&&(q=i,z.doc.css(I.prefixstyle+"transition-duration",i)),o},this.doScrollLeft=function(e,t){var o=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(o,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&u(t),z.showCursor(z.getScrollTop(),z.getScrollLeft()),z.notifyScrollEvent(z.win[0])};u(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,o){var i=z.getScrollTop(),r=z.getScrollLeft();if(((z.newscrolly-i)*(t-i)<0||(z.newscrollx-r)*(e-r)<0)&&z.cancelScroll(),E.bouncescroll?(t<0?t=t/2|0:t>z.page.maxh&&(t=z.page.maxh+(t-z.page.maxh)/2|0),e<0?e=e/2|0:e>z.page.maxw&&(e=z.page.maxw+(e-z.page.maxw)/2|0)):(t<0?t=0:t>z.page.maxh&&(t=z.page.maxh),e<0?e=0:e>z.page.maxw&&(e=z.page.maxw)),z.scrollrunning&&e==z.newscrollx&&t==z.newscrolly)return!1;z.newscrolly=t,z.newscrollx=e;var n=z.getScrollTop(),s=z.getScrollLeft(),a={};a.x=e-s,a.y=t-n;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),c=z.prepareTransition(l);z.scrollrunning||(z.scrollrunning=!0,z.triggerScrollStart(s,n,e,t,c),z.cursorupdate.start()),z.scrollendtrapped=!0,I.transitionend||(z.scrollendtrapped&&clearTimeout(z.scrollendtrapped),z.scrollendtrapped=setTimeout(z.onScrollTransitionEnd,c)),z.setScrollTop(z.newscrolly),z.setScrollLeft(z.newscrollx)},this.cancelScroll=function(){if(!z.scrollendtrapped)return!0;var e=z.getScrollTop(),t=z.getScrollLeft();return z.scrollrunning=!1,I.transitionend||clearTimeout(I.transitionend),z.scrollendtrapped=!1,z.resetTransition(),z.setScrollTop(e),z.railh&&z.setScrollLeft(t),z.timerscroll&&z.timerscroll.tm&&clearInterval(z.timerscroll.tm),z.timerscroll=!1,z.cursorfreezed=!1,z.cursorupdate.stop(),z.showCursor(e,t),z},this.onScrollTransitionEnd=function(){if(z.scrollendtrapped){var e=z.getScrollTop(),t=z.getScrollLeft();if(e<0?e=0:e>z.page.maxh&&(e=z.page.maxh),t<0?t=0:t>z.page.maxw&&(t=z.page.maxw),e!=z.newscrolly||t!=z.newscrollx)return z.doScrollPos(t,e,E.snapbackspeed);z.scrollrunning&&z.triggerScrollEnd(),z.scrollrunning=!1,z.scrollendtrapped=!1,z.resetTransition(),z.timerscroll=!1,z.setScrollTop(e),z.railh&&z.setScrollLeft(t),z.cursorupdate.stop(),z.noticeCursor(!1,e,t),z.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var o=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=z.getScrollTop(),r=z.getScrollLeft();((z.newscrolly-i)*(t-i)<0||(z.newscrollx-r)*(e-r)<0)&&z.cancelScroll();var n=!1;if(z.bouncescroll&&z.rail.visibility||(t<0?(t=0,n=!0):t>z.page.maxh&&(t=z.page.maxh,n=!0)),z.bouncescroll&&z.railh.visibility||(e<0?(e=0,n=!0):e>z.page.maxw&&(e=z.page.maxw,n=!0)),z.scrollrunning&&z.newscrolly===t&&z.newscrollx===e)return!0;z.newscrolly=t,z.newscrollx=e,z.dst={},z.dst.x=e-r,z.dst.y=t-i,z.dst.px=r,z.dst.py=i;var s=0|Math.sqrt(z.dst.x*z.dst.x+z.dst.y*z.dst.y),a=z.getTransitionSpeed(s);z.bzscroll={};var l=n?1:.58;z.bzscroll.x=new R(r,z.newscrollx,a,0,0,l,1),z.bzscroll.y=new R(i,z.newscrolly,a,0,0,l,1);var c=(m(),function(){if(z.scrollrunning){var e=z.bzscroll.y.getPos();z.setScrollLeft(z.bzscroll.x.getNow()),z.setScrollTop(z.bzscroll.y.getNow()),e<=1?z.timer=u(c):(z.scrollrunning=!1,z.timer=0,z.triggerScrollEnd())}});z.scrollrunning||(z.triggerScrollStart(r,i,e,t,a),z.scrollrunning=!0,z.timer=u(c))},this.cancelScroll=function(){return z.timer&&h(z.timer),z.timer=0,z.bzscroll=!1,z.scrollrunning=!1,z};else this.doScrollLeft=function(e,t){var o=z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.getScrollLeft();z.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=e>z.page.maxw?z.page.maxw:e;i<0&&(i=0);var r=t>z.page.maxh?z.page.maxh:t;r<0&&(r=0),z.synched("scroll",function(){z.setScrollTop(r),z.setScrollLeft(i)})},this.cancelScroll=function(){};this.doScrollBy=function(e,t){T(0,e)},this.doScrollLeftBy=function(e,t){T(e,0)},this.doScrollTo=function(e,t){var o=t?Math.round(e*z.scrollratio.y):e;o<0?o=0:o>z.page.maxh&&(o=z.page.maxh),z.cursorfreezed=!1,z.doScrollTop(e)},this.checkContentSize=function(){var e=z.getContentSize();e.h==z.page.h&&e.w==z.page.w||z.resize(!1,e)},z.onscroll=function(e){z.rail.drag||z.cursorfreezed||z.synched("scroll",function(){z.scroll.y=Math.round(z.getScrollTop()/z.scrollratio.y),z.railh&&(z.scroll.x=Math.round(z.getScrollLeft()/z.scrollratio.x)),z.noticeCursor()})},z.bind(z.docscroll,"scroll",z.onscroll),this.doZoomIn=function(e){if(!z.zoomactive){z.zoomactive=!0,z.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],o=z.win[0].style;for(var i in t){var r=t[i];z.zoomrestore.style[r]=void 0!==o[r]?o[r]:""}z.zoomrestore.style.width=z.win.css("width"),z.zoomrestore.style.height=z.win.css("height"),z.zoomrestore.padding={w:z.win.outerWidth()-z.win.width(),h:z.win.outerHeight()-z.win.height()},I.isios4&&(z.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),z.win.css({position:I.isios4?"absolute":"fixed",top:0,left:0,zIndex:n+100,margin:0});var s=z.win.css("backgroundColor");return(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&z.win.css("backgroundColor","#fff"),z.rail.css({zIndex:n+101}),z.zoom.css({zIndex:n+102}),z.zoom.css("backgroundPosition","0 -18px"),z.resizeZoom(),z.onzoomin&&z.onzoomin.call(z),z.cancelEvent(e)}},this.doZoomOut=function(e){if(z.zoomactive)return z.zoomactive=!1,z.win.css("margin",""),z.win.css(z.zoomrestore.style),I.isios4&&c.scrollTop(z.zoomrestore.scrollTop),z.rail.css({"z-index":z.zindex}),z.zoom.css({"z-index":z.zindex}),z.zoomrestore=!1,z.zoom.css("backgroundPosition","0 0"),z.onResize(),z.onzoomout&&z.onzoomout.call(z),z.cancelEvent(e)},this.doZoom=function(e){return z.zoomactive?z.doZoomOut(e):z.doZoomIn(e)},this.resizeZoom=function(){if(z.zoomactive){var e=z.getScrollTop();z.win.css({width:c.width()-z.zoomrestore.padding.w+"px",height:c.height()-z.zoomrestore.padding.h+"px"}),z.onResize(),z.setScrollTop(Math.min(z.page.maxh,e))}},this.init(),s.nicescroll.push(this)},y=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,o){t.stop(),t.steptime=0,t.lasttime=m(),t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=o,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,o){var i=m();t.steptime=i-t.lasttime,t.lasttime=i;var r=o-t.lasty,n=e-t.lastx,s=t.nc.getScrollTop(),a=t.nc.getScrollLeft(),l=s+r,c=a+n;t.snapx=c<0||c>t.nc.page.maxw,t.snapy=l<0||l>t.nc.page.maxh,t.speedx=n,t.speedy=r,t.lastx=e,t.lasty=o},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,o){var i=!1;o<0?(o=0,i=!0):o>t.nc.page.maxh&&(o=t.nc.page.maxh,i=!0),e<0?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i?t.nc.doScrollPos(e,o,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var o=m(),i=e?o+e:t.lasttime,r=t.nc.getScrollLeft(),n=t.nc.getScrollTop(),s=t.nc.page.maxh,a=t.nc.page.maxw;t.speedx=a>0?Math.min(60,t.speedx):0,t.speedy=s>0?Math.min(60,t.speedy):0;var l=i&&o-i<=60;(n<0||n>s||r<0||r>a)&&(l=!1);var c=!(!t.speedy||!l)&&t.speedy,d=!(!t.speedx||!l)&&t.speedx;if(c||d){var u=Math.max(16,t.steptime);if(u>50){var h=u/50;t.speedx*=h,t.speedy*=h,u=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,g=t.lastscrolly,f=function(){var e=m()-o>600?.04:.02;t.speedx&&(p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p,(p<0||p>a)&&(e=.1)),t.speedy&&(g=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=g,(g<0||g>s)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){if(t.speedx){t.nc.getScrollLeft();t.chkx=p,t.nc.setScrollLeft(p)}if(t.speedy){t.nc.getScrollTop();t.chky=g,t.nc.setScrollTop(g)}t.timer||(t.nc.hideCursor(),t.doSnapy(p,g))}),t.demulxy<1?t.timer=setTimeout(f,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,g))};f()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,o){var i=s.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollTop():x.call(e)},set:function(e,t){var o=s.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each(function(){var t=s.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(s(this),e)})};var S=e.fn.scrollLeft;s.cssHooks.pageXOffset={get:function(e,t,o){var i=s.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollLeft():S.call(e)},set:function(e,t){var o=s.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(t)):S.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():S.call(this)}return this.each(function(){var t=s.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):S.call(s(this),e)})};var T=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return s.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var o=0;o<e.length;o++){var i=s.data(e[o],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};!function(e,t,o){for(var i=0,r=t.length;i<r;i++)o(e,t[i])}(T.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new T(this):this[e]&&s.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==s.data(e,"__nicescroll")},s.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var o=new T;return this.each(function(){var i=s(this),r=s.extend({},t);if(e){var n=s(e);r.doc=n.length>1?s(e,i):n,r.win=i}!("doc"in r)||"win"in r||(r.win=i);var a=i.data("__nicescroll")||!1;a||(r.doc=r.doc||i,a=new b(r,i),i.data("__nicescroll",a)),o.push(a)}),1===o.length?o[0]:o},l.NiceScroll={getjQuery:function(){return e}},s.nicescroll||(s.nicescroll=new T,s.nicescroll.options=f)}),function(e,t){function o(e,t,o){var i=e.children(),r=!1;e.empty();for(var s=0,a=i.length;a>s;s++){var l=i.eq(s);if(e.append(l),o&&e.append(o),n(e,t)){l.remove(),r=!0;break}o&&o.detach()}return r}function i(t,o,s,a,l){var c=!1;return t.contents().detach().each(function(){var d=this,u=e(d);if(void 0===d||3==d.nodeType&&0==e.trim(d.data).length)return!0;if(u.is("script, .dotdotdot-keep"))t.append(u);else{if(c)return!0;t.append(u),l&&t[t.is("table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](l),n(s,a)&&((c=3==d.nodeType?r(u,o,s,a,l):i(u,o,s,a,l))||(u.detach(),c=!0)),c||l&&l.detach()}}),c}function r(t,o,i,r,a){var d=t[0];if(!d)return!1;var h=c(d),p=-1!==h.indexOf(" ")?" ":"",g="letter"==r.wrap?"":p,m=h.split(g),f=-1,v=-1,w=0,b=m.length-1;for(r.fallbackToLetter&&0==w&&0==b&&(g="",m=h.split(g),b=m.length-1);b>=w&&(0!=w||0!=b);){var y=Math.floor((w+b)/2);if(y==v)break;v=y,l(d,m.slice(0,v+1).join(g)+r.ellipsis),n(i,r)?(b=v,r.fallbackToLetter&&0==w&&0==b&&(g="",m=m[0].split(g),f=-1,v=-1,w=0,b=m.length-1)):(f=v,w=v)}if(-1==f||1==m.length&&0==m[0].length){var x=t.parent();t.detach();var S=a&&a.closest(x).length?a.length:0;x.contents().length>S?d=u(x.contents().eq(-1-S),o):(d=u(x,o,!0),S||x.detach()),d&&(h=s(c(d),r),l(d,h),S&&a&&e(d).parent().append(a))}else h=s(m.slice(0,f+1).join(g),r),l(d,h);return!0}function n(e,t){return e.innerHeight()>t.maxHeight}function s(t,o){for(;e.inArray(t.slice(-1),o.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),o.lastCharacter.noEllipsis)<0&&(t+=o.ellipsis),t}function a(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function c(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function d(e){do{e=e.previousSibling}while(e&&1!==e.nodeType&&3!==e.nodeType);return e}function u(t,o,i){var r,n=t&&t[0];if(n){if(!i){if(3===n.nodeType)return n;if(e.trim(t.text()))return u(t.contents().last(),o)}for(r=d(n);!r;){if(t=t.parent(),t.is(o)||!t.length)return!1;r=d(t[0])}if(r)return u(e(r),o)}return!1}function h(t,o){return!!t&&("string"==typeof t?(t=e(t,o),!!t.length&&t):!!t.jquery&&t)}function p(e){for(var t=e.innerHeight(),o=["paddingTop","paddingBottom"],i=0,r=o.length;r>i;i++){var n=parseInt(e.css(o[i]),10);isNaN(n)&&(n=0),t-=n}return t}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(t){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(t)});var r=this;r.data("dotdotdot")&&r.trigger("destroy.dot"),r.data("dotdotdot-style",r.attr("style")||""),r.css("word-wrap","break-word"),"nowrap"===r.css("white-space")&&r.css("white-space","normal"),r.bind_events=function(){return r.bind("update.dot",function(t,a){t.preventDefault(),t.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:p(r),l.maxHeight+=l.tolerance,void 0!==a&&(("string"==typeof a||a instanceof HTMLElement)&&(a=e("<div />").append(a).contents()),a instanceof e&&(s=a)),m=r.wrapInner('<div class="dotdotdot" />').children(),m.contents().detach().end().append(s.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var d=!1,u=!1;return c.afterElement&&(d=c.afterElement.clone(!0),d.show(),c.afterElement.detach()),n(m,l)&&(u="children"==l.wrap?o(m,l,d):i(m,r,m,l,d)),m.replaceWith(m.contents()),m=null,e.isFunction(l.callback)&&l.callback.call(r[0],u,s),c.isTruncated=u,u}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(r[0],c.isTruncated),c.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(r[0],s),s
}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),r.unwatch().unbind_events().contents().detach().end().append(s).attr("style",r.data("dotdotdot-style")||"").data("dotdotdot",!1)}),r},r.unbind_events=function(){return r.unbind(".dot"),r},r.watch=function(){if(r.unwatch(),"window"==l.watch){var t=e(window),o=t.width(),i=t.height();t.bind("resize.dot"+c.dotId,function(){o==t.width()&&i==t.height()&&l.windowResizeFix||(o=t.width(),i=t.height(),u&&clearInterval(u),u=setTimeout(function(){r.trigger("update.dot")},100))})}else d=a(r),u=setInterval(function(){if(r.is(":visible")){var e=a(r);(d.width!=e.width||d.height!=e.height)&&(r.trigger("update.dot"),d=e)}},500);return r},r.unwatch=function(){return e(window).unbind("resize.dot"+c.dotId),u&&clearInterval(u),r};var s=r.contents(),l=e.extend(!0,{},e.fn.dotdotdot.defaults,t),c={},d={},u=null,m=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),c.afterElement=h(l.after,r),c.isTruncated=!1,c.dotId=g++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&r.watch(),r},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(){};var g=1,m=e.fn.html;e.fn.html=function(o){return o!=t&&!e.isFunction(o)&&this.data("dotdotdot")?this.trigger("update",[o]):m.apply(this,arguments)};var f=e.fn.text;e.fn.text=function(o){return o!=t&&!e.isFunction(o)&&this.data("dotdotdot")?(o=e("<div />").text(o).html(),this.trigger("update",[o])):f.apply(this,arguments)}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=!1,o=!1,i=0,r=2e3,n=0,s=e,a=document,l=window,c=s(l),d=[],u=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,h=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(u)l.cancelAnimationFrame||(h=function(e){});else{var p=0;u=function(e,t){var o=(new Date).getTime(),i=Math.max(0,16-(o-p)),r=l.setTimeout(function(){e(o+i)},i);return p=o+i,r},h=function(e){l.clearTimeout(e)}}var g=l.MutationObserver||l.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},f={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=a.currentScript||function(){var e=a.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),t=e?e.src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,w=function(){if(v)return v;var e=a.createElement("DIV"),t=e.style,o=navigator.userAgent,i=navigator.platform,r={};return r.haspointerlock="pointerLockElement"in a||"webkitPointerLockElement"in a||"mozPointerLockElement"in a,r.isopera="opera"in l,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),r.isie="all"in a&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in t),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in a)||7===a.documentMode),r.isie8=r.isie&&"documentMode"in a&&8===a.documentMode,r.isie9=r.isie&&"performance"in l&&9===a.documentMode,r.isie10=r.isie&&"performance"in l&&10===a.documentMode,r.isie11="msRequestFullscreen"in e&&a.documentMode>=11,r.ismsedge="msCredentials"in l,r.ismozilla="MozAppearance"in t,r.iswebkit=!r.ismsedge&&"WebkitAppearance"in t,r.ischrome=r.iswebkit&&"chrome"in l,r.ischrome38=r.ischrome&&"touchAction"in t,r.ischrome22=!r.ischrome38&&r.ischrome&&r.haspointerlock,r.ischrome26=!r.ischrome38&&r.ischrome&&"transition"in t,r.cantouch="ontouchstart"in a.documentElement||"ontouchstart"in l,r.hasw3ctouch=(l.PointerEvent||!1)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),r.hasmstouch=!r.hasw3ctouch&&(l.MSPointerEvent||!1),r.ismac=/^mac$/i.test(i),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(i),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in a,r.isios8=r.isios&&"hidden"in a,r.isios10=r.isios&&l.Proxy,r.isandroid=/android/i.test(o),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1,r.trstyle="transform",r.hastransform="transform"in t||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],o=0,i=e.length;o<i;o++)if(void 0!==t[e[o]]){r.trstyle=e[o];break}r.hastransform=!!r.trstyle}(),r.hastransform&&(t[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(t[r.trstyle])),r.transitionstyle="transition",r.prefixstyle="",r.transitionend="transitionend",r.hastransition="transition"in t||function(){r.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],o=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],i=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],n=0,s=e.length;n<s;n++)if(e[n]in t){r.transitionstyle=e[n],r.prefixstyle=o[n],r.transitionend=i[n];break}r.ischrome26&&(r.prefixstyle=o[1]),r.hastransition=r.transitionstyle}(),r.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(r.ischrome&&!r.ischrome38||r.isie)&&(e=[]);for(var o=0,i=e.length;o<i;o++){var n=e[o];if(t.cursor=n,t.cursor==n)return n}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),r.hasmousecapture="setCapture"in e,r.hasMutationObserver=!1!==g,e=null,v=r,r},b=function(e,p){function v(){var e=z.doc.css(I.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function b(){var e=z.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}function x(e,t,o){var i=e.css(t),r=parseFloat(i);if(isNaN(r)){var n=3==(r=N[i]||0)?o?z.win.outerHeight()-z.win.innerHeight():z.win.outerWidth()-z.win.innerWidth():1;return z.isie8&&r&&(r+=1),n?r:0}return r}function S(e,t,o,i){z._bind(e,t,function(i){var r={original:i=i||l.event,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(i.wheelDeltaX&&(r.deltaX=-.025*i.wheelDeltaX),i.wheelDeltaY&&(r.deltaY=-.025*i.wheelDeltaY),!r.deltaY&&!r.deltaX&&(r.deltaY=-.025*i.wheelDelta)):r.deltaY=i.detail,o.call(e,r)},i)}function T(e,t,o,i){z.scrollrunning||(z.newscrolly=z.getScrollTop(),z.newscrollx=z.getScrollLeft(),D=m());var r=m()-D;if(D=m(),r>350?j=1:j+=(2-j)/10,e=e*j|0,t=t*j|0,e){if(i)if(e<0){if(z.getScrollLeft()>=z.page.maxw)return!0}else if(z.getScrollLeft()<=0)return!0;var n=e>0?1:-1;A!==n&&(z.scrollmom&&z.scrollmom.stop(),z.newscrollx=z.getScrollLeft(),A=n),z.lastdeltax-=e}if(t){if(function(){var e=z.getScrollTop();if(t<0){if(e>=z.page.maxh)return!0}else if(e<=0)return!0}()){if(E.nativeparentscrolling&&o&&!z.ispage&&!z.zoomactive)return!0;var s=z.view.h>>1;z.newscrolly<-s?(z.newscrolly=-s,t=-1):z.newscrolly>z.page.maxh+s?(z.newscrolly=z.page.maxh+s,t=1):t=0}var a=t>0?1:-1;O!==a&&(z.scrollmom&&z.scrollmom.stop(),z.newscrolly=z.getScrollTop(),O=a),z.lastdeltay-=t}(t||e)&&z.synched("relativexy",function(){var e=z.lastdeltay+z.newscrolly;z.lastdeltay=0;var t=z.lastdeltax+z.newscrollx;z.lastdeltax=0,z.rail.drag||z.doScrollPos(t,e)})}function k(e,t,o){var i,r;return!(o||!Y)||(0===e.deltaMode?(i=-e.deltaX*(E.mousescrollstep/54)|0,r=-e.deltaY*(E.mousescrollstep/54)|0):1===e.deltaMode&&(i=-e.deltaX*E.mousescrollstep*50/80|0,r=-e.deltaY*E.mousescrollstep*50/80|0),t&&E.oneaxismousemode&&0===i&&r&&(i=r,r=0,o&&(i<0?z.getScrollLeft()>=z.page.maxw:z.getScrollLeft()<=0)&&(r=i,i=0)),z.isrtlmode&&(i=-i),T(i,r,o,!0)?void(o&&(Y=!0)):(Y=!1,e.stopImmediatePropagation(),e.preventDefault()))}var z=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var C=s("body"),E=this.opt={doc:C,win:!1};if(s.extend(E,f),E.snapbackspeed=80,e)for(var $ in E)void 0!==e[$]&&(E[$]=e[$]);if(E.disablemutationobserver&&(g=!1),this.doc=E.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(E.win?E.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==E.win,this.win=E.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=C,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=E.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==E.rtlmode){var L=this.win[0]==l?this.body:this.win,M=L.css("writing-mode")||L.css("-webkit-writing-mode")||L.css("-ms-writing-mode")||L.css("-moz-writing-mode");"horizontal-tb"==M||"lr-tb"==M||""===M?(this.isrtlmode="rtl"==L.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==M||"tb"==M||"tb-rl"==M||"rl-tb"==M,this.isvertical="vertical-rl"==M||"tb"==M||"tb-rl"==M)}else this.isrtlmode=!0===E.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==E.scrollbarid)this.id=E.scrollbarid;else do{this.id="ascrail"+r++}while(a.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=E.overflowx,this.overflowy=E.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=w();var I=s.extend({},this.detected);this.canhwscroll=I.hastransform&&E.hwacceleration,this.ishwscroll=this.canhwscroll&&z.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(I.iswebkit||I.isie||I.isie11):this.hasreversehr=!(I.iswebkit||I.isie&&!I.isie10&&!I.isie11):this.hasreversehr=!1,this.istouchcapable=!1,I.cantouch||!I.hasw3ctouch&&!I.hasmstouch?!I.cantouch||I.isios||I.isandroid||!I.iswebkit&&!I.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,E.enablemouselockapi||(I.hasmousecapture=!1,I.haspointerlock=!1),this.debounced=function(e,t,o){z&&(z.delaylist[e]||!1||(z.delaylist[e]={h:u(function(){z.delaylist[e].fn.call(z),z.delaylist[e]=!1},o)},t.call(z)),z.delaylist[e].fn=t)},this.synched=function(e,t){z.synclist[e]?z.synclist[e]=t:(z.synclist[e]=t,u(function(){z&&(z.synclist[e]&&z.synclist[e].call(z),z.synclist[e]=null)}))},this.unsynched=function(e){z.synclist[e]&&(z.synclist[e]=!1)},this.css=function(e,t){for(var o in t)z.saved.css.push([e,o,e.css(o)]),e.css(o,t[o])},this.scrollTop=function(e){return void 0===e?z.getScrollTop():z.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?z.getScrollLeft():z.setScrollLeft(e)};var R=function(e,t,o,i,r,n,s){this.st=e,this.ed=t,this.spd=o,this.p1=i||0,this.p2=r||1,this.p3=n||0,this.p4=s||1,this.ts=m(),this.df=t-e};if(R.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var e=(m()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=m(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},I.hastranslate3d&&I.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[13]:-t[5];if(z.timerscroll&&z.timerscroll.bz)return z.timerscroll.bz.getNow()}return z.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[12]:-t[4];if(z.timerscroll&&z.timerscroll.bh)return z.timerscroll.bh.getNow()}return z.doc.translate.x},this.notifyScrollEvent=function(e){var t=a.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,l,1),t.niceevent=!0,e.dispatchEvent(t)};var P=this.isrtlmode?1:-1;I.hastranslate3d&&E.enabletranslate3d?(this.setScrollTop=function(e,t){z.doc.translate.y=e,z.doc.translate.ty=-1*e+"px",z.doc.css(I.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),t||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(e,t){z.doc.translate.x=e,z.doc.translate.tx=e*P+"px",z.doc.css(I.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),t||z.notifyScrollEvent(z.win[0])}):(this.setScrollTop=function(e,t){z.doc.translate.y=e,z.doc.translate.ty=-1*e+"px",z.doc.css(I.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),t||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(e,t){z.doc.translate.x=e,z.doc.translate.tx=e*P+"px",z.doc.css(I.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),t||z.notifyScrollEvent(z.win[0])})}else this.getScrollTop=function(){return z.docscroll.scrollTop()},this.setScrollTop=function(e){z.docscroll.scrollTop(e)},this.getScrollLeft=function(){return z.hasreversehr?z.detected.ismozilla?z.page.maxw-Math.abs(z.docscroll.scrollLeft()):z.page.maxw-z.docscroll.scrollLeft():z.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(z)return z.hasreversehr&&(e=z.detected.ismozilla?-(z.page.maxw-e):z.page.maxw-e),z.docscroll.scrollLeft(e)},1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var o=e.target||e.srcElement||e||!1;o&&o.id!=t;)o=o.parentNode||!1;return!1!==o};var N={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||a.documentElement.scrollTop,left:l.pageXOffset||a.documentElement.scrollLeft}},this.getOffset=function(){if(z.isfixed){var e=z.win.offset(),t=z.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var o=z.win.offset();if(!z.viewport)return o;var i=z.viewport.offset();return{top:o.top-i.top,left:o.left-i.left}},this.updateScrollBar=function(e){var t,o;if(z.ishwscroll)z.rail.css({height:z.win.innerHeight()-(E.railpadding.top+E.railpadding.bottom)}),z.railh&&z.railh.css({width:z.win.innerWidth()-(E.railpadding.left+E.railpadding.right)});else{var i=z.getOffset();if(t={top:i.top,left:i.left-(E.railpadding.left+E.railpadding.right)},t.top+=x(z.win,"border-top-width",!0),t.left+=z.rail.align?z.win.outerWidth()-x(z.win,"border-right-width")-z.rail.width:x(z.win,"border-left-width"),(o=E.railoffset)&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left)),z.railslocked||z.rail.css({top:t.top,left:t.left,height:(e?e.h:z.win.innerHeight())-(E.railpadding.top+E.railpadding.bottom)}),z.zoom&&z.zoom.css({top:t.top+1,left:1==z.rail.align?t.left-20:t.left+z.rail.width+4}),z.railh&&!z.railslocked){t={top:i.top,left:i.left},(o=E.railhoffset)&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left));var r=z.railh.align?t.top+x(z.win,"border-top-width",!0)+z.win.innerHeight()-z.railh.height:t.top+x(z.win,"border-top-width",!0),n=t.left+x(z.win,"border-left-width");z.railh.css({top:r-(E.railpadding.top+E.railpadding.bottom),left:n,width:z.railh.width})}}},this.doRailClick=function(e,t,o){var i,r,n,s;z.railslocked||(z.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+a.documentElement.scrollLeft,e.pageY=e.clientY+a.documentElement.scrollTop),t?(i=o?z.doScrollLeft:z.doScrollTop,n=o?(e.pageX-z.railh.offset().left-z.cursorwidth/2)*z.scrollratio.x:(e.pageY-z.rail.offset().top-z.cursorheight/2)*z.scrollratio.y,z.unsynched("relativexy"),i(0|n)):(i=o?z.doScrollLeftBy:z.doScrollBy,n=o?z.scroll.x:z.scroll.y,s=o?e.pageX-z.railh.offset().left:e.pageY-z.rail.offset().top,r=o?z.view.w:z.view.h,i(n>=s?r:-r)))},z.newscrolly=z.newscrollx=0,z.hasanimationframe="requestAnimationFrame"in l,z.hascancelanimationframe="cancelAnimationFrame"in l,z.hasborderbox=!1,this.init=function(){if(z.saved.css=[],I.isoperamini)return!0;if(I.isandroid&&!("hidden"in a))return!0;E.emulatetouch=E.emulatetouch||E.touchbehavior,z.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(a.body)["box-sizing"];var e={"overflow-y":"hidden"};if((I.isie11||I.isie10)&&(e["-ms-overflow-style"]="none"),z.ishwscroll&&(this.doc.css(I.transitionstyle,I.prefixstyle+"transform 0ms ease-out"),I.transitionend&&z.bind(z.doc,I.transitionend,z.onScrollTransitionEnd,!1)),z.zindex="auto",z.ispage||"auto"!=E.zindex?z.zindex=E.zindex:z.zindex=b()||"auto",!z.ispage&&"auto"!=z.zindex&&z.zindex>n&&(n=z.zindex),z.isie&&0===z.zindex&&"auto"==E.zindex&&(z.zindex="auto"),!z.ispage||!I.isieold){var r=z.docscroll;z.ispage&&(r=z.haswrapper?z.win:z.doc),z.css(r,e),z.ispage&&(I.isie11||I.isie)&&z.css(s("html"),e),!I.isios||z.ispage||z.haswrapper||z.css(C,{"-webkit-overflow-scrolling":"touch"});var d=s(a.createElement("div"));d.css({position:"relative",top:0,float:"right",width:E.cursorwidth,height:0,"background-color":E.cursorcolor,border:E.cursorborder,"background-clip":"padding-box","-webkit-border-radius":E.cursorborderradius,"-moz-border-radius":E.cursorborderradius,"border-radius":E.cursorborderradius}),d.addClass("nicescroll-cursors"),z.cursor=d;var u=s(a.createElement("div"));u.attr("id",z.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,m=["left","right","top","bottom"];for(var f in m)p=m[f],(h=E.railpadding[p]||0)&&u.css("padding-"+p,h+"px");u.append(d),u.width=Math.max(parseFloat(E.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:z.zindex,background:E.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==E.railalign?0:1,z.rail=u,z.rail.drag=!1;var v=!1;!E.boxzoom||z.ispage||I.isieold||(v=a.createElement("div"),z.bind(v,"click",z.doZoom),z.bind(v,"mouseenter",function(){z.zoom.css("opacity",E.cursoropacitymax)}),z.bind(v,"mouseleave",function(){z.zoom.css("opacity",E.cursoropacitymin)}),z.zoom=s(v),z.zoom.css({cursor:"pointer",zIndex:z.zindex,backgroundImage:"url("+E.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),E.dblclickzoom&&z.bind(z.win,"dblclick",z.doZoom),I.cantouch&&E.gesturezoom&&(z.ongesturezoom=function(e){return e.scale>1.5&&z.doZoomIn(e),e.scale<.8&&z.doZoomOut(e),z.cancelEvent(e)},z.bind(z.win,"gestureend",z.ongesturezoom))),z.railh=!1;var w;if(E.horizrailenabled&&(z.css(r,{overflowX:"hidden"}),(d=s(a.createElement("div"))).css({position:"absolute",top:0,height:E.cursorwidth,width:0,backgroundColor:E.cursorcolor,border:E.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":E.cursorborderradius,"-moz-border-radius":E.cursorborderradius,"border-radius":E.cursorborderradius}),I.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),z.cursorh=d,(w=s(a.createElement("div"))).attr("id",z.id+"-hr"),w.addClass("nicescroll-rails nicescroll-rails-hr"),w.height=Math.max(parseFloat(E.cursorwidth),d.outerHeight()),w.css({height:w.height+"px",zIndex:z.zindex,background:E.background}),w.append(d),w.visibility=!0,w.scrollable=!0,w.align="top"==E.railvalign?0:1,z.railh=w,z.railh.drag=!1),z.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),z.body.append(u),z.railh&&(w.css({position:"fixed",left:0,width:"100%"}),w.css(w.align?{bottom:0}:{top:0}),z.body.append(w));else{if(z.ishwscroll){"static"==z.win.css("position")&&z.css(z.win,{position:"relative"});var x="HTML"==z.win[0].nodeName?z.body:z.win;s(x).scrollTop(0).scrollLeft(0),z.zoom&&(z.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),x.append(z.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),x.append(u),w&&(w.css({position:"absolute",left:0,bottom:0}),w.css(w.align?{bottom:0}:{top:0}),x.append(w))}else{z.isfixed="fixed"==z.win.css("position");var S=z.isfixed?"fixed":"absolute";z.isfixed||(z.viewport=z.getViewport(z.win[0])),z.viewport&&(z.body=z.viewport,/fixed|absolute/.test(z.viewport.css("position"))||z.css(z.viewport,{position:"relative"})),u.css({position:S}),z.zoom&&z.zoom.css({position:S}),z.updateScrollBar(),z.body.append(u),z.zoom&&z.body.append(z.zoom),z.railh&&(w.css({position:S}),z.body.append(w))}I.isios&&z.css(z.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),E.disableoutline&&(I.isie&&z.win.attr("hideFocus","true"),I.iswebkit&&z.win.css("outline","none"))}if(!1===E.autohidemode?(z.autohidedom=!1,z.rail.css({opacity:E.cursoropacitymax}),z.railh&&z.railh.css({opacity:E.cursoropacitymax})):!0===E.autohidemode||"leave"===E.autohidemode?(z.autohidedom=s().add(z.rail),I.isie8&&(z.autohidedom=z.autohidedom.add(z.cursor)),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh)),z.railh&&I.isie8&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"scroll"==E.autohidemode?(z.autohidedom=s().add(z.rail),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh))):"cursor"==E.autohidemode?(z.autohidedom=s().add(z.cursor),z.railh&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"hidden"==E.autohidemode&&(z.autohidedom=!1,z.hide(),z.railslocked=!1),I.cantouch||z.istouchcapable||E.emulatetouch||I.hasmstouch){z.scrollmom=new y(z),z.ontouchstart=function(e){if(z.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(z.hasmoving=!1,z.scrollmom.timer&&(z.triggerScrollEnd(),z.scrollmom.stop()),!z.railslocked){var t=z.getTarget(e);if(t&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return z.stopPropagation(e);var o="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),z.forcescreen){var i=e;(e={original:e.original?e.original:e}).clientX=i.screenX,e.clientY=i.screenY}if(z.rail.drag={x:e.clientX,y:e.clientY,sx:z.scroll.x,sy:z.scroll.y,st:z.getScrollTop(),sl:z.getScrollLeft(),pt:2,dl:!1,tg:t},z.ispage||!E.directionlockdeadzone)z.rail.drag.dl="f";else{var r={w:c.width(),h:c.height()},n=z.getContentSize(),a=n.h-r.h,l=n.w-r.w;z.rail.scrollable&&!z.railh.scrollable?z.rail.drag.ck=a>0&&"v":!z.rail.scrollable&&z.railh.scrollable?z.rail.drag.ck=l>0&&"h":z.rail.drag.ck=!1}if(E.emulatetouch&&z.isiframe&&I.isie){var d=z.win.position();z.rail.drag.x+=d.left,z.rail.drag.y+=d.top}if(z.hasmoving=!1,z.lastmouseup=!1,z.scrollmom.reset(e.clientX,e.clientY),t&&o){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return I.hasmousecapture&&t.setCapture(),E.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(z.hasmoving)return!1;t._onclick.call(this,e)}),z.cancelEvent(e)):z.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(s(t).attr("type"))&&(z.preventclick={tg:t,click:!1})}}},z.ontouchend=function(e){if(!z.rail.drag)return!0;if(2==z.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;z.rail.drag=!1;var t="mouseup"===e.type;if(z.hasmoving&&(z.scrollmom.doMomentum(),z.lastmouseup=!0,z.hideCursor(),I.hasmousecapture&&a.releaseCapture(),t))return z.cancelEvent(e)}else if(1==z.rail.drag.pt)return z.onmouseup(e)};var T=E.emulatetouch&&z.isiframe&&!I.hasmousecapture,k=.3*E.directionlockdeadzone|0;z.ontouchmove=function(e,t){if(!z.rail.drag)return!0;if(e.targetTouches&&E.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==z.rail.drag.pt){"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY);var o,i;if(i=o=0,T&&!t){var r=z.win.position();i=-r.left,o=-r.top}var n=e.clientY+o,s=n-z.rail.drag.y,l=e.clientX+i,c=l-z.rail.drag.x,d=z.rail.drag.st-s;if(z.ishwscroll&&E.bouncescroll)d<0?d=Math.round(d/2):d>z.page.maxh&&(d=z.page.maxh+Math.round((d-z.page.maxh)/2));else if(d<0?(d=0,n=0):d>z.page.maxh&&(d=z.page.maxh,n=0),0===n&&!z.hasmoving)return z.ispage||(z.rail.drag=!1),!0;var u=z.getScrollLeft();if(z.railh&&z.railh.scrollable&&(u=z.isrtlmode?c-z.rail.drag.sl:z.rail.drag.sl-c,z.ishwscroll&&E.bouncescroll?u<0?u=Math.round(u/2):u>z.page.maxw&&(u=z.page.maxw+Math.round((u-z.page.maxw)/2)):(u<0&&(u=0,l=0),u>z.page.maxw&&(u=z.page.maxw,l=0))),!z.hasmoving){if(z.rail.drag.y===e.clientY&&z.rail.drag.x===e.clientX)return z.cancelEvent(e);var h=Math.abs(s),p=Math.abs(c),g=E.directionlockdeadzone;if(z.rail.drag.ck?"v"==z.rail.drag.ck?p>g&&h<=k?z.rail.drag=!1:h>g&&(z.rail.drag.dl="v"):"h"==z.rail.drag.ck&&(h>g&&p<=k?z.rail.drag=!1:p>g&&(z.rail.drag.dl="h")):h>g&&p>g?z.rail.drag.dl="f":h>g?z.rail.drag.dl=p>k?"f":"v":p>g&&(z.rail.drag.dl=h>k?"f":"h"),!z.rail.drag.dl)return z.cancelEvent(e);z.triggerScrollStart(e.clientX,e.clientY,0,0,0),z.hasmoving=!0}return z.preventclick&&!z.preventclick.click&&(z.preventclick.click=z.preventclick.tg.onclick||!1,z.preventclick.tg.onclick=z.onpreventclick),z.rail.drag.dl&&("v"==z.rail.drag.dl?u=z.rail.drag.sl:"h"==z.rail.drag.dl&&(d=z.rail.drag.st)),z.synched("touchmove",function(){z.rail.drag&&2==z.rail.drag.pt&&(z.prepareTransition&&z.resetTransition(),z.rail.scrollable&&z.setScrollTop(d),z.scrollmom.update(l,n),z.railh&&z.railh.scrollable?(z.setScrollLeft(u),z.showCursor(d,u)):z.showCursor(d),I.isie10&&a.selection.clear())}),z.cancelEvent(e)}return 1==z.rail.drag.pt?z.onmousemove(e):void 0},z.ontouchstartCursor=function(e,t){if(!z.rail.drag||3==z.rail.drag.pt){if(z.locked)return z.cancelEvent(e);z.cancelScroll(),z.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:z.scroll.x,sy:z.scroll.y,pt:3,hr:!!t};var o=z.getTarget(e);return!z.ispage&&I.hasmousecapture&&o.setCapture(),z.isiframe&&!I.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.cancelEvent(e)}},z.ontouchendCursor=function(e){if(z.rail.drag){if(I.hasmousecapture&&a.releaseCapture(),z.isiframe&&!I.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),3!=z.rail.drag.pt)return;return z.rail.drag=!1,z.cancelEvent(e)}},z.ontouchmoveCursor=function(e){if(z.rail.drag){if(3!=z.rail.drag.pt)return;if(z.cursorfreezed=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(e.touches[0].clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var t=z.scrollvaluemaxw;z.scroll.x>t&&(z.scroll.x=t)}else{z.scroll.y=z.rail.drag.sy+(e.touches[0].clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var o=z.scrollvaluemax;z.scroll.y>o&&(z.scroll.y=o)}return z.synched("touchmove",function(){z.rail.drag&&3==z.rail.drag.pt&&(z.showCursor(),z.rail.drag.hr?z.doScrollLeft(Math.round(z.scroll.x*z.scrollratio.x),E.cursordragspeed):z.doScrollTop(Math.round(z.scroll.y*z.scrollratio.y),E.cursordragspeed))}),z.cancelEvent(e)}}}if(z.onmousedown=function(e,t){if(!z.rail.drag||1==z.rail.drag.pt){if(z.railslocked)return z.cancelEvent(e);z.cancelScroll(),z.rail.drag={x:e.clientX,y:e.clientY,sx:z.scroll.x,sy:z.scroll.y,pt:1,hr:t||!1};var o=z.getTarget(e);return I.hasmousecapture&&o.setCapture(),z.isiframe&&!I.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.hasmoving=!1,z.cancelEvent(e)}},z.onmouseup=function(e){if(z.rail.drag)return 1!=z.rail.drag.pt||(I.hasmousecapture&&a.releaseCapture(),z.isiframe&&!I.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),z.rail.drag=!1,z.cursorfreezed=!1,z.hasmoving&&z.triggerScrollEnd(),z.cancelEvent(e))},z.onmousemove=function(e){if(z.rail.drag){if(1!==z.rail.drag.pt)return;if(I.ischrome&&0===e.which)return z.onmouseup(e);if(z.cursorfreezed=!0,z.hasmoving||z.triggerScrollStart(e.clientX,e.clientY,0,0,0),z.hasmoving=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(e.clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var t=z.scrollvaluemaxw;z.scroll.x>t&&(z.scroll.x=t)}else{z.scroll.y=z.rail.drag.sy+(e.clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var o=z.scrollvaluemax;z.scroll.y>o&&(z.scroll.y=o)}return z.synched("mousemove",function(){z.cursorfreezed&&(z.showCursor(),z.rail.drag.hr?z.scrollLeft(Math.round(z.scroll.x*z.scrollratio.x)):z.scrollTop(Math.round(z.scroll.y*z.scrollratio.y)))}),z.cancelEvent(e)}z.checkarea=0},I.cantouch||E.emulatetouch)z.onpreventclick=function(e){if(z.preventclick)return z.preventclick.tg.onclick=z.preventclick.click,z.preventclick=!1,z.cancelEvent(e)},z.onclick=!I.isios&&function(e){return!z.lastmouseup||(z.lastmouseup=!1,z.cancelEvent(e))},E.grabcursorenabled&&I.cursorgrabvalue&&(z.css(z.ispage?z.doc:z.win,{cursor:I.cursorgrabvalue}),z.css(z.rail,{cursor:I.cursorgrabvalue}));else{var $=function(e){if(z.selectiondrag){if(e){var t=z.win.outerHeight(),o=e.pageY-z.selectiondrag.top;o>0&&o<t&&(o=0),o>=t&&(o-=t),z.selectiondrag.df=o}if(0!==z.selectiondrag.df){var i=-2*z.selectiondrag.df/6|0;z.doScrollBy(i),z.debounced("doselectionscroll",function(){$()},50)}}};z.hasTextSelected="getSelection"in a?function(){return a.getSelection().rangeCount>0}:"selection"in a?function(){return"None"!=a.selection.type}:function(){return!1},z.onselectionstart=function(e){z.ispage||(z.selectiondrag=z.win.offset())},z.onselectionend=function(e){z.selectiondrag=!1},z.onselectiondrag=function(e){z.selectiondrag&&z.hasTextSelected()&&z.debounced("selectionscroll",function(){$(e)},250)}}if(I.hasw3ctouch?(z.css(z.ispage?s("html"):z.win,{"touch-action":"none"}),z.css(z.rail,{"touch-action":"none"}),z.css(z.cursor,{"touch-action":"none"}),z.bind(z.win,"pointerdown",z.ontouchstart),z.bind(a,"pointerup",z.ontouchend),z.delegate(a,"pointermove",z.ontouchmove)):I.hasmstouch?(z.css(z.ispage?s("html"):z.win,{"-ms-touch-action":"none"}),z.css(z.rail,{"-ms-touch-action":"none"}),z.css(z.cursor,{"-ms-touch-action":"none"}),z.bind(z.win,"MSPointerDown",z.ontouchstart),z.bind(a,"MSPointerUp",z.ontouchend),z.delegate(a,"MSPointerMove",z.ontouchmove),z.bind(z.cursor,"MSGestureHold",function(e){e.preventDefault()}),z.bind(z.cursor,"contextmenu",function(e){e.preventDefault()})):I.cantouch&&(z.bind(z.win,"touchstart",z.ontouchstart,!1,!0),z.bind(a,"touchend",z.ontouchend,!1,!0),z.bind(a,"touchcancel",z.ontouchend,!1,!0),z.delegate(a,"touchmove",z.ontouchmove,!1,!0)),E.emulatetouch&&(z.bind(z.win,"mousedown",z.ontouchstart,!1,!0),z.bind(a,"mouseup",z.ontouchend,!1,!0),z.bind(a,"mousemove",z.ontouchmove,!1,!0)),
(E.cursordragontouch||!I.cantouch&&!E.emulatetouch)&&(z.rail.css({cursor:"default"}),z.railh&&z.railh.css({cursor:"default"}),z.jqbind(z.rail,"mouseenter",function(){if(!z.ispage&&!z.win.is(":visible"))return!1;z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0}),z.jqbind(z.rail,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}),E.sensitiverail&&(z.bind(z.rail,"click",function(e){z.doRailClick(e,!1,!1)}),z.bind(z.rail,"dblclick",function(e){z.doRailClick(e,!0,!1)}),z.bind(z.cursor,"click",function(e){z.cancelEvent(e)}),z.bind(z.cursor,"dblclick",function(e){z.cancelEvent(e)})),z.railh&&(z.jqbind(z.railh,"mouseenter",function(){if(!z.ispage&&!z.win.is(":visible"))return!1;z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0}),z.jqbind(z.railh,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}),E.sensitiverail&&(z.bind(z.railh,"click",function(e){z.doRailClick(e,!1,!0)}),z.bind(z.railh,"dblclick",function(e){z.doRailClick(e,!0,!0)}),z.bind(z.cursorh,"click",function(e){z.cancelEvent(e)}),z.bind(z.cursorh,"dblclick",function(e){z.cancelEvent(e)})))),E.cursordragontouch&&(this.istouchcapable||I.cantouch)&&(z.bind(z.cursor,"touchstart",z.ontouchstartCursor),z.bind(z.cursor,"touchmove",z.ontouchmoveCursor),z.bind(z.cursor,"touchend",z.ontouchendCursor),z.cursorh&&z.bind(z.cursorh,"touchstart",function(e){z.ontouchstartCursor(e,!0)}),z.cursorh&&z.bind(z.cursorh,"touchmove",z.ontouchmoveCursor),z.cursorh&&z.bind(z.cursorh,"touchend",z.ontouchendCursor)),E.emulatetouch||I.isandroid||I.isios?(z.bind(I.hasmousecapture?z.win:a,"mouseup",z.ontouchend),z.onclick&&z.bind(a,"click",z.onclick),E.cursordragontouch?(z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.cursorh&&z.bind(z.cursorh,"mousedown",function(e){z.onmousedown(e,!0)}),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onmouseup)):(z.bind(z.rail,"mousedown",function(e){e.preventDefault()}),z.railh&&z.bind(z.railh,"mousedown",function(e){e.preventDefault()}))):(z.bind(I.hasmousecapture?z.win:a,"mouseup",z.onmouseup),z.bind(a,"mousemove",z.onmousemove),z.onclick&&z.bind(a,"click",z.onclick),z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.railh&&(z.bind(z.cursorh,"mousedown",function(e){z.onmousedown(e,!0)}),z.bind(z.cursorh,"mouseup",z.onmouseup)),!z.ispage&&E.enablescrollonselection&&(z.bind(z.win[0],"mousedown",z.onselectionstart),z.bind(a,"mouseup",z.onselectionend),z.bind(z.cursor,"mouseup",z.onselectionend),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onselectionend),z.bind(a,"mousemove",z.onselectiondrag)),z.zoom&&(z.jqbind(z.zoom,"mouseenter",function(){z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0}),z.jqbind(z.zoom,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}))),E.enablemousewheel&&(z.isiframe||z.mousewheel(I.isie&&z.ispage?a:z.win,z.onmousewheel),z.mousewheel(z.rail,z.onmousewheel),z.railh&&z.mousewheel(z.railh,z.onmousewheelhr)),z.ispage||I.cantouch||/HTML|^BODY/.test(z.win[0].nodeName)||(z.win.attr("tabindex")||z.win.attr({tabindex:++i}),z.bind(z.win,"focus",function(e){t=z.getTarget(e).id||z.getTarget(e)||!1,z.hasfocus=!0,z.canshowonmouseevent&&z.noticeCursor()}),z.bind(z.win,"blur",function(e){t=!1,z.hasfocus=!1}),z.bind(z.win,"mouseenter",function(e){o=z.getTarget(e).id||z.getTarget(e)||!1,z.hasmousefocus=!0,z.canshowonmouseevent&&z.noticeCursor()}),z.bind(z.win,"mouseleave",function(e){o=!1,z.hasmousefocus=!1,z.rail.drag||z.hideCursor()})),z.onkeypress=function(e){if(z.railslocked&&0===z.page.maxh)return!0;e=e||l.event;var i=z.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)&&(!i.getAttribute("type")&&!i.type||!/submit|button|cancel/i.tp))return!0;if(s(i).attr("contenteditable"))return!0;if(z.hasfocus||z.hasmousefocus&&!t||z.ispage&&!t&&!o){var r=e.keyCode;if(z.railslocked&&27!=r)return z.cancelEvent(e);var n=e.ctrlKey||!1,a=e.shiftKey||!1,c=!1;switch(r){case 38:case 63233:z.doScrollBy(72),c=!0;break;case 40:case 63235:z.doScrollBy(-72),c=!0;break;case 37:case 63232:z.railh&&(n?z.doScrollLeft(0):z.doScrollLeftBy(72),c=!0);break;case 39:case 63234:z.railh&&(n?z.doScrollLeft(z.page.maxw):z.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:z.doScrollBy(z.view.h),c=!0;break;case 34:case 63277:z.doScrollBy(-z.view.h),c=!0;break;case 36:case 63273:z.railh&&n?z.doScrollPos(0,0):z.doScrollTo(0),c=!0;break;case 35:case 63275:z.railh&&n?z.doScrollPos(z.page.maxw,z.page.maxh):z.doScrollTo(z.page.maxh),c=!0;break;case 32:E.spacebarenabled&&(a?z.doScrollBy(z.view.h):z.doScrollBy(-z.view.h),c=!0);break;case 27:z.zoomactive&&(z.doZoom(),c=!0)}if(c)return z.cancelEvent(e)}},E.enablekeyboard&&z.bind(a,I.isopera&&!I.isopera12?"keypress":"keydown",z.onkeypress),z.bind(a,"keydown",function(e){(e.ctrlKey||!1)&&(z.wheelprevented=!0)}),z.bind(a,"keyup",function(e){e.ctrlKey||!1||(z.wheelprevented=!1)}),z.bind(l,"blur",function(e){z.wheelprevented=!1}),z.bind(l,"resize",z.onscreenresize),z.bind(l,"orientationchange",z.onscreenresize),z.bind(l,"load",z.lazyResize),I.ischrome&&!z.ispage&&!z.haswrapper){var L=z.win.attr("style"),M=parseFloat(z.win.css("width"))+1;z.win.css("width",M),z.synched("chromefix",function(){z.win.attr("style",L)})}if(z.onAttributeChange=function(e){z.lazyResize(z.isieold?250:30)},E.enableobserver&&(z.isie11||!1===g||(z.observerbody=new g(function(e){if(e.forEach(function(e){if("attributes"==e.type)return C.hasClass("modal-open")&&C.hasClass("modal-dialog")&&!s.contains(s(".modal-dialog")[0],z.doc[0])?z.hide():z.show()}),z.me.clientWidth!=z.page.width||z.me.clientHeight!=z.page.height)return z.lazyResize(30)}),z.observerbody.observe(a.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!z.ispage&&!z.haswrapper)){var R=z.win[0];!1!==g?(z.observer=new g(function(e){e.forEach(z.onAttributeChange)}),z.observer.observe(R,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),z.observerremover=new g(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(z&&e.removedNodes[t]===R)return z.remove()})}),z.observerremover.observe(R.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(z.bind(R,I.isie&&!I.isie9?"propertychange":"DOMAttrModified",z.onAttributeChange),I.isie9&&R.attachEvent("onpropertychange",z.onAttributeChange),z.bind(R,"DOMNodeRemoved",function(e){e.target===R&&z.remove()}))}!z.ispage&&E.boxzoom&&z.bind(l,"resize",z.resizeZoom),z.istextarea&&(z.bind(z.win,"keydown",z.lazyResize),z.bind(z.win,"mouseup",z.lazyResize)),z.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var P=function(){z.iframexd=!1;var t;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){z.iframexd=!0,t=!1}if(z.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(z.forcescreen=!0,z.isiframe&&(z.iframe={doc:s(t),html:z.doc.contents().find("html")[0],body:z.doc.contents().find("body")[0]},z.getContentSize=function(){return{w:Math.max(z.iframe.html.scrollWidth,z.iframe.body.scrollWidth),h:Math.max(z.iframe.html.scrollHeight,z.iframe.body.scrollHeight)}},z.docscroll=s(z.iframe.body)),!I.isios&&E.iframeautoresize&&!z.isiframe){z.win.scrollTop(0),z.doc.height("");var o=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);z.doc.height(o)}z.lazyResize(30),z.css(s(z.iframe.body),e),I.isios&&z.haswrapper&&z.css(s(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?z.bind(this.contentWindow,"scroll",z.onscroll):z.bind(t,"scroll",z.onscroll),E.enablemousewheel&&z.mousewheel(t,z.onmousewheel),E.enablekeyboard&&z.bind(t,I.isopera?"keypress":"keydown",z.onkeypress),I.cantouch?(z.bind(t,"touchstart",z.ontouchstart),z.bind(t,"touchmove",z.ontouchmove)):E.emulatetouch&&(z.bind(t,"mousedown",z.ontouchstart),z.bind(t,"mousemove",function(e){return z.ontouchmove(e,!0)}),E.grabcursorenabled&&I.cursorgrabvalue&&z.css(s(t.body),{cursor:I.cursorgrabvalue})),z.bind(t,"mouseup",z.ontouchend),z.zoom&&(E.dblclickzoom&&z.bind(t,"dblclick",z.doZoom),z.ongesturezoom&&z.bind(t,"gestureend",z.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){P.call(z.doc[0],!1)},500),z.bind(this.doc,"load",P)}},this.showCursor=function(e,t){if(z.cursortimeout&&(clearTimeout(z.cursortimeout),z.cursortimeout=0),z.rail){if(z.autohidedom&&(z.autohidedom.stop().css({opacity:E.cursoropacitymax}),z.cursoractive=!0),z.rail.drag&&1==z.rail.drag.pt||(void 0!==e&&!1!==e&&(z.scroll.y=e/z.scrollratio.y|0),void 0!==t&&(z.scroll.x=t/z.scrollratio.x|0)),z.cursor.css({height:z.cursorheight,top:z.scroll.y}),z.cursorh){var o=z.hasreversehr?z.scrollvaluemaxw-z.scroll.x:z.scroll.x;z.cursorh.css({width:z.cursorwidth,left:!z.rail.align&&z.rail.visibility?o+z.rail.width:o}),z.cursoractive=!0}z.zoom&&z.zoom.stop().css({opacity:E.cursoropacitymax})}},this.hideCursor=function(e){z.cursortimeout||z.rail&&z.autohidedom&&(z.hasmousefocus&&"leave"===E.autohidemode||(z.cursortimeout=setTimeout(function(){z.rail.active&&z.showonmouseevent||(z.autohidedom.stop().animate({opacity:E.cursoropacitymin}),z.zoom&&z.zoom.stop().animate({opacity:E.cursoropacitymin}),z.cursoractive=!1),z.cursortimeout=0},e||E.hidecursordelay)))},this.noticeCursor=function(e,t,o){z.showCursor(t,o),z.rail.active||z.hideCursor(e)},this.getContentSize=z.ispage?function(){return{w:Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),h:Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)}}:z.haswrapper?function(){return{w:z.doc[0].offsetWidth,h:z.doc[0].offsetHeight}}:function(){return{w:z.docscroll[0].scrollWidth,h:z.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!z||!z.win)return!1;var o=z.page.maxh,i=z.page.maxw,r=z.view.h,n=z.view.w;if(z.view={w:z.ispage?z.win.width():z.win[0].clientWidth,h:z.ispage?z.win.height():z.win[0].clientHeight},z.page=t||z.getContentSize(),z.page.maxh=Math.max(0,z.page.h-z.view.h),z.page.maxw=Math.max(0,z.page.w-z.view.w),z.page.maxh==o&&z.page.maxw==i&&z.view.w==n&&z.view.h==r){if(z.ispage)return z;var s=z.win.offset();if(z.lastposition){var a=z.lastposition;if(a.top==s.top&&a.left==s.left)return z}z.lastposition=s}return 0===z.page.maxh?(z.hideRail(),z.scrollvaluemax=0,z.scroll.y=0,z.scrollratio.y=0,z.cursorheight=0,z.setScrollTop(0),z.rail&&(z.rail.scrollable=!1)):(z.page.maxh-=E.railpadding.top+E.railpadding.bottom,z.rail.scrollable=!0),0===z.page.maxw?(z.hideRailHr(),z.scrollvaluemaxw=0,z.scroll.x=0,z.scrollratio.x=0,z.cursorwidth=0,z.setScrollLeft(0),z.railh&&(z.railh.scrollable=!1)):(z.page.maxw-=E.railpadding.left+E.railpadding.right,z.railh&&(z.railh.scrollable=E.horizrailenabled)),z.railslocked=z.locked||0===z.page.maxh&&0===z.page.maxw,z.railslocked?(z.ispage||z.updateScrollBar(z.view),!1):(z.hidden||(z.rail.visibility||z.showRail(),z.railh&&!z.railh.visibility&&z.showRailHr()),z.istextarea&&z.win.css("resize")&&"none"!=z.win.css("resize")&&(z.view.h-=20),z.cursorheight=Math.min(z.view.h,Math.round(z.view.h*(z.view.h/z.page.h))),z.cursorheight=E.cursorfixedheight?E.cursorfixedheight:Math.max(E.cursorminheight,z.cursorheight),z.cursorwidth=Math.min(z.view.w,Math.round(z.view.w*(z.view.w/z.page.w))),z.cursorwidth=E.cursorfixedheight?E.cursorfixedheight:Math.max(E.cursorminheight,z.cursorwidth),z.scrollvaluemax=z.view.h-z.cursorheight-(E.railpadding.top+E.railpadding.bottom),z.hasborderbox||(z.scrollvaluemax-=z.cursor[0].offsetHeight-z.cursor[0].clientHeight),z.railh&&(z.railh.width=z.page.maxh>0?z.view.w-z.rail.width:z.view.w,z.scrollvaluemaxw=z.railh.width-z.cursorwidth-(E.railpadding.left+E.railpadding.right)),z.ispage||z.updateScrollBar(z.view),z.scrollratio={x:z.page.maxw/z.scrollvaluemaxw,y:z.page.maxh/z.scrollvaluemax},z.getScrollTop()>z.page.maxh?z.doScrollTop(z.page.maxh):(z.scroll.y=z.getScrollTop()/z.scrollratio.y|0,z.scroll.x=z.getScrollLeft()/z.scrollratio.x|0,z.cursoractive&&z.noticeCursor()),z.scroll.y&&0===z.getScrollTop()&&z.doScrollTo(z.scroll.y*z.scrollratio.y|0),z)},this.resize=z.onResize;var _=0;this.onscreenresize=function(e){clearTimeout(_);var t=!z.ispage&&!z.haswrapper;t&&z.hideRails(),_=setTimeout(function(){z&&(t&&z.showRails(),z.resize()),_=0},120)},this.lazyResize=function(e){return clearTimeout(_),e=isNaN(e)?240:e,_=setTimeout(function(){z&&z.resize(),_=0},e),z},this.jqbind=function(e,t,o){z.events.push({e:e,n:t,f:o,q:!0}),s(e).on(t,o)},this.mousewheel=function(e,t,o){var i="jquery"in e?e[0]:e;if("onwheel"in a.createElement("div"))z._bind(i,"wheel",t,o||!1);else{var r=void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll";S(i,r,t,o||!1),"DOMMouseScroll"==r&&S(i,"MozMousePixelScroll",t,o||!1)}};var B=!1;if(I.haseventlistener){try{var H=Object.defineProperty({},"passive",{get:function(){B=!0}});l.addEventListener("test",null,H)}catch(e){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=a.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,o){this.attachEvent("on"+e,t)},l.constructor.prototype.removeEventListener=a.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,o){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return(e=e||l.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||l.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,o,i,r){var n=d[t]||!1;n||(n={a:[],l:[],f:function(e){for(var t=n.l,o=!1,i=t.length-1;i>=0;i--)if(!1===(o=t[i].call(e.target,e)))return!1;return o}},z.bind(e,t,n.f,i,r),d[t]=n),z.ispage?(n.a=[z.id].concat(n.a),n.l=[o].concat(n.l)):(n.a.push(z.id),n.l.push(o))},this.undelegate=function(e,t,o,i,r){var n=d[t]||!1;if(n&&n.l)for(var s=0,a=n.l.length;s<a;s++)n.a[s]===z.id&&(n.a.splice(s),n.l.splice(s),0===n.a.length&&(z._unbind(e,t,n.l.f),d[t]=null))},this.bind=function(e,t,o,i,r){var n="jquery"in e?e[0]:e;z._bind(n,t,o,i||!1,r||!1)},this._bind=function(e,t,o,i,r){z.events.push({e:e,n:t,f:o,b:i,q:!1}),B&&r?e.addEventListener(t,o,{passive:!1,capture:i}):e.addEventListener(t,o,i||!1)},this._unbind=function(e,t,o,i){d[t]?z.undelegate(e,t,o,i):e.removeEventListener(t,o,i)},this.unbindAll=function(){for(var e=0;e<z.events.length;e++){var t=z.events[e];t.q?t.e.unbind(t.n,t.f):z._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return z.showRail().showRailHr()},this.showRail=function(){return 0===z.page.maxh||!z.ispage&&"none"==z.win.css("display")||(z.rail.visibility=!0,z.rail.css("display","block")),z},this.showRailHr=function(){return z.railh&&(0===z.page.maxw||!z.ispage&&"none"==z.win.css("display")||(z.railh.visibility=!0,z.railh.css("display","block"))),z},this.hideRails=function(){return z.hideRail().hideRailHr()},this.hideRail=function(){return z.rail.visibility=!1,z.rail.css("display","none"),z},this.hideRailHr=function(){return z.railh&&(z.railh.visibility=!1,z.railh.css("display","none")),z},this.show=function(){return z.hidden=!1,z.railslocked=!1,z.showRails()},this.hide=function(){return z.hidden=!0,z.railslocked=!0,z.hideRails()},this.toggle=function(){return z.hidden?z.show():z.hide()},this.remove=function(){z.stop(),z.cursortimeout&&clearTimeout(z.cursortimeout);for(var e in z.delaylist)z.delaylist[e]&&h(z.delaylist[e].h);z.doZoomOut(),z.unbindAll(),I.isie9&&z.win[0].detachEvent("onpropertychange",z.onAttributeChange),!1!==z.observer&&z.observer.disconnect(),!1!==z.observerremover&&z.observerremover.disconnect(),!1!==z.observerbody&&z.observerbody.disconnect(),z.events=null,z.cursor&&z.cursor.remove(),z.cursorh&&z.cursorh.remove(),z.rail&&z.rail.remove(),z.railh&&z.railh.remove(),z.zoom&&z.zoom.remove();for(var t=0;t<z.saved.css.length;t++){var o=z.saved.css[t];o[0].css(o[1],void 0===o[2]?"":o[2])}z.saved=!1,z.me.data("__nicescroll","");var i=s.nicescroll;i.each(function(e){if(this&&this.id===z.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];--i.length&&delete i[i.length]}});for(var r in z)z[r]=null,delete z[r];z=null},this.scrollstart=function(e){return this.onscrollstart=e,z},this.scrollend=function(e){return this.onscrollend=e,z},this.scrollcancel=function(e){return this.onscrollcancel=e,z},this.zoomin=function(e){return this.onzoomin=e,z},this.zoomout=function(e){return this.onzoomout=e,z},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var o=s(t);if(/scroll|auto/.test(o.css("overflowY")||o.css("overflowX")||o.css("overflow")||""))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var o=s(t);if(/fixed|absolute/.test(o.css("position")))return o;if(/scroll|auto/.test(o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"")&&t.clientHeight!=t.scrollHeight)return o;if(o.getNiceScroll().length>0)return o;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,o,i,r){if(z.onscrollstart){var n={type:"scrollstart",current:{x:e,y:t},request:{x:o,y:i},end:{x:z.newscrollx,y:z.newscrolly},speed:r};z.onscrollstart.call(z,n)}},this.triggerScrollEnd=function(){if(z.onscrollend){var e=z.getScrollLeft(),t=z.getScrollTop(),o={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};z.onscrollend.call(z,o)}};var O=0,A=0,D=0,j=1,Y=!1;if(this.onmousewheel=function(e){if(z.wheelprevented||z.locked)return!1;if(z.railslocked)return z.debounced("checkunlock",z.resize,250),!1;if(z.rail.drag)return z.cancelEvent(e);if("auto"===E.oneaxismousemode&&0!==e.deltaX&&(E.oneaxismousemode=!1),E.oneaxismousemode&&0===e.deltaX&&!z.rail.scrollable)return!z.railh||!z.railh.scrollable||z.onmousewheelhr(e);var t=m(),o=!1;if(E.preservenativescrolling&&z.checkarea+600<t&&(z.nativescrollingarea=z.isScrollable(e),o=!0),z.checkarea=t,z.nativescrollingarea)return!0;var i=k(e,!1,o);return i&&(z.checkarea=0),i},this.onmousewheelhr=function(e){if(!z.wheelprevented){if(z.railslocked||!z.railh.scrollable)return!0;if(z.rail.drag)return z.cancelEvent(e);var t=m(),o=!1;return E.preservenativescrolling&&z.checkarea+600<t&&(z.nativescrollingarea=z.isScrollable(e),o=!0),z.checkarea=t,!!z.nativescrollingarea||(z.railslocked?z.cancelEvent(e):k(e,!0,o))}},this.stop=function(){return z.cancelScroll(),z.scrollmon&&z.scrollmon.stop(),z.cursorfreezed=!1,z.scroll.y=Math.round(z.getScrollTop()*(1/z.scrollratio.y)),z.noticeCursor(),z},this.getTransitionSpeed=function(e){return 80+e/72*E.scrollspeed|0},E.smoothscroll)if(z.ishwscroll&&I.hastransition&&E.usetransition&&E.smoothscroll){var q="";this.resetTransition=function(){q="",z.doc.css(I.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var o=t?e:z.getTransitionSpeed(e),i=o+"ms";return q!==i&&(q=i,z.doc.css(I.prefixstyle+"transition-duration",i)),o},this.doScrollLeft=function(e,t){var o=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(o,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&u(t),z.showCursor(z.getScrollTop(),z.getScrollLeft()),z.notifyScrollEvent(z.win[0])};u(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,o){var i=z.getScrollTop(),r=z.getScrollLeft();if(((z.newscrolly-i)*(t-i)<0||(z.newscrollx-r)*(e-r)<0)&&z.cancelScroll(),E.bouncescroll?(t<0?t=t/2|0:t>z.page.maxh&&(t=z.page.maxh+(t-z.page.maxh)/2|0),e<0?e=e/2|0:e>z.page.maxw&&(e=z.page.maxw+(e-z.page.maxw)/2|0)):(t<0?t=0:t>z.page.maxh&&(t=z.page.maxh),e<0?e=0:e>z.page.maxw&&(e=z.page.maxw)),z.scrollrunning&&e==z.newscrollx&&t==z.newscrolly)return!1;z.newscrolly=t,z.newscrollx=e;var n=z.getScrollTop(),s=z.getScrollLeft(),a={};a.x=e-s,a.y=t-n;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),c=z.prepareTransition(l);z.scrollrunning||(z.scrollrunning=!0,z.triggerScrollStart(s,n,e,t,c),z.cursorupdate.start()),z.scrollendtrapped=!0,I.transitionend||(z.scrollendtrapped&&clearTimeout(z.scrollendtrapped),z.scrollendtrapped=setTimeout(z.onScrollTransitionEnd,c)),z.setScrollTop(z.newscrolly),z.setScrollLeft(z.newscrollx)},this.cancelScroll=function(){if(!z.scrollendtrapped)return!0;var e=z.getScrollTop(),t=z.getScrollLeft();return z.scrollrunning=!1,I.transitionend||clearTimeout(I.transitionend),z.scrollendtrapped=!1,z.resetTransition(),z.setScrollTop(e),z.railh&&z.setScrollLeft(t),z.timerscroll&&z.timerscroll.tm&&clearInterval(z.timerscroll.tm),z.timerscroll=!1,z.cursorfreezed=!1,z.cursorupdate.stop(),z.showCursor(e,t),z},this.onScrollTransitionEnd=function(){if(z.scrollendtrapped){var e=z.getScrollTop(),t=z.getScrollLeft();if(e<0?e=0:e>z.page.maxh&&(e=z.page.maxh),t<0?t=0:t>z.page.maxw&&(t=z.page.maxw),e!=z.newscrolly||t!=z.newscrollx)return z.doScrollPos(t,e,E.snapbackspeed);z.scrollrunning&&z.triggerScrollEnd(),z.scrollrunning=!1,z.scrollendtrapped=!1,z.resetTransition(),z.timerscroll=!1,z.setScrollTop(e),z.railh&&z.setScrollLeft(t),z.cursorupdate.stop(),z.noticeCursor(!1,e,t),z.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var o=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=z.getScrollTop(),r=z.getScrollLeft();((z.newscrolly-i)*(t-i)<0||(z.newscrollx-r)*(e-r)<0)&&z.cancelScroll();var n=!1;if(z.bouncescroll&&z.rail.visibility||(t<0?(t=0,n=!0):t>z.page.maxh&&(t=z.page.maxh,n=!0)),z.bouncescroll&&z.railh.visibility||(e<0?(e=0,n=!0):e>z.page.maxw&&(e=z.page.maxw,n=!0)),z.scrollrunning&&z.newscrolly===t&&z.newscrollx===e)return!0;z.newscrolly=t,z.newscrollx=e,z.dst={},z.dst.x=e-r,z.dst.y=t-i,z.dst.px=r,z.dst.py=i;var s=0|Math.sqrt(z.dst.x*z.dst.x+z.dst.y*z.dst.y),a=z.getTransitionSpeed(s);z.bzscroll={};var l=n?1:.58;z.bzscroll.x=new R(r,z.newscrollx,a,0,0,l,1),z.bzscroll.y=new R(i,z.newscrolly,a,0,0,l,1),m();var c=function(){if(z.scrollrunning){var e=z.bzscroll.y.getPos();z.setScrollLeft(z.bzscroll.x.getNow()),z.setScrollTop(z.bzscroll.y.getNow()),e<=1?z.timer=u(c):(z.scrollrunning=!1,z.timer=0,z.triggerScrollEnd())}};z.scrollrunning||(z.triggerScrollStart(r,i,e,t,a),z.scrollrunning=!0,z.timer=u(c))},this.cancelScroll=function(){return z.timer&&h(z.timer),z.timer=0,z.bzscroll=!1,z.scrollrunning=!1,z};else this.doScrollLeft=function(e,t){var o=z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.getScrollLeft();z.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=e>z.page.maxw?z.page.maxw:e;i<0&&(i=0);var r=t>z.page.maxh?z.page.maxh:t;r<0&&(r=0),z.synched("scroll",function(){z.setScrollTop(r),z.setScrollLeft(i)})},this.cancelScroll=function(){};this.doScrollBy=function(e,t){T(0,e)},this.doScrollLeftBy=function(e,t){T(e,0)},this.doScrollTo=function(e,t){var o=t?Math.round(e*z.scrollratio.y):e;o<0?o=0:o>z.page.maxh&&(o=z.page.maxh),z.cursorfreezed=!1,z.doScrollTop(e)},this.checkContentSize=function(){var e=z.getContentSize();e.h==z.page.h&&e.w==z.page.w||z.resize(!1,e)},z.onscroll=function(e){z.rail.drag||z.cursorfreezed||z.synched("scroll",function(){z.scroll.y=Math.round(z.getScrollTop()/z.scrollratio.y),z.railh&&(z.scroll.x=Math.round(z.getScrollLeft()/z.scrollratio.x)),z.noticeCursor()})},z.bind(z.docscroll,"scroll",z.onscroll),this.doZoomIn=function(e){if(!z.zoomactive){z.zoomactive=!0,z.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],o=z.win[0].style;for(var i in t){var r=t[i];z.zoomrestore.style[r]=void 0!==o[r]?o[r]:""}z.zoomrestore.style.width=z.win.css("width"),z.zoomrestore.style.height=z.win.css("height"),z.zoomrestore.padding={w:z.win.outerWidth()-z.win.width(),h:z.win.outerHeight()-z.win.height()},I.isios4&&(z.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),z.win.css({position:I.isios4?"absolute":"fixed",top:0,left:0,zIndex:n+100,margin:0});var s=z.win.css("backgroundColor");return(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&z.win.css("backgroundColor","#fff"),z.rail.css({zIndex:n+101}),z.zoom.css({zIndex:n+102}),z.zoom.css("backgroundPosition","0 -18px"),z.resizeZoom(),z.onzoomin&&z.onzoomin.call(z),z.cancelEvent(e)}},this.doZoomOut=function(e){if(z.zoomactive)return z.zoomactive=!1,z.win.css("margin",""),z.win.css(z.zoomrestore.style),I.isios4&&c.scrollTop(z.zoomrestore.scrollTop),z.rail.css({"z-index":z.zindex}),z.zoom.css({"z-index":z.zindex}),z.zoomrestore=!1,z.zoom.css("backgroundPosition","0 0"),z.onResize(),z.onzoomout&&z.onzoomout.call(z),z.cancelEvent(e)},this.doZoom=function(e){return z.zoomactive?z.doZoomOut(e):z.doZoomIn(e)},this.resizeZoom=function(){if(z.zoomactive){var e=z.getScrollTop();z.win.css({width:c.width()-z.zoomrestore.padding.w+"px",height:c.height()-z.zoomrestore.padding.h+"px"}),z.onResize(),z.setScrollTop(Math.min(z.page.maxh,e))}},this.init(),s.nicescroll.push(this)},y=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,o){t.stop(),t.steptime=0,t.lasttime=m(),t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=o,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,o){var i=m();t.steptime=i-t.lasttime,t.lasttime=i;var r=o-t.lasty,n=e-t.lastx,s=t.nc.getScrollTop()+r,a=t.nc.getScrollLeft()+n;t.snapx=a<0||a>t.nc.page.maxw,t.snapy=s<0||s>t.nc.page.maxh,t.speedx=n,t.speedy=r,t.lastx=e,t.lasty=o},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,o){var i=!1;o<0?(o=0,i=!0):o>t.nc.page.maxh&&(o=t.nc.page.maxh,i=!0),e<0?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i?t.nc.doScrollPos(e,o,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var o=m(),i=e?o+e:t.lasttime,r=t.nc.getScrollLeft(),n=t.nc.getScrollTop(),s=t.nc.page.maxh,a=t.nc.page.maxw;t.speedx=a>0?Math.min(60,t.speedx):0,t.speedy=s>0?Math.min(60,t.speedy):0;var l=i&&o-i<=60;(n<0||n>s||r<0||r>a)&&(l=!1);var c=!(!t.speedy||!l)&&t.speedy,d=!(!t.speedx||!l)&&t.speedx;if(c||d){var u=Math.max(16,t.steptime);if(u>50){var h=u/50;t.speedx*=h,t.speedy*=h,u=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,g=t.lastscrolly,f=function(){var e=m()-o>600?.04:.02;t.speedx&&(p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p,(p<0||p>a)&&(e=.1)),t.speedy&&(g=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=g,(g<0||g>s)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft(),t.chkx=p,t.nc.setScrollLeft(p)),t.speedy&&(t.nc.getScrollTop(),t.chky=g,t.nc.setScrollTop(g)),t.timer||(t.nc.hideCursor(),t.doSnapy(p,g))}),t.demulxy<1?t.timer=setTimeout(f,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,g))};f()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,o){var i=s.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollTop():x.call(e)},set:function(e,t){var o=s.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each(function(){var t=s.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(s(this),e)})};var S=e.fn.scrollLeft;s.cssHooks.pageXOffset={get:function(e,t,o){var i=s.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollLeft():S.call(e)},set:function(e,t){var o=s.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(t)):S.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():S.call(this)}return this.each(function(){var t=s.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):S.call(s(this),e)})};var T=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return s.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var o=0;o<e.length;o++){var i=s.data(e[o],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};!function(e,t,o){for(var i=0,r=t.length;i<r;i++)!function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}(e,t[i])}(T.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"]),e.fn.getNiceScroll=function(e){return void 0===e?new T(this):this[e]&&s.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==s.data(e,"__nicescroll")},s.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var o=new T;return this.each(function(){var i=s(this),r=s.extend({},t);if(e){var n=s(e);r.doc=n.length>1?s(e,i):n,r.win=i}!("doc"in r)||"win"in r||(r.win=i);var a=i.data("__nicescroll")||!1;a||(r.doc=r.doc||i,a=new b(r,i),i.data("__nicescroll",a)),o.push(a)}),1===o.length?o[0]:o},l.NiceScroll={getjQuery:function(){return e}},s.nicescroll||(s.nicescroll=new T,s.nicescroll.options=f)});var el={mainNav:$(".main-nav")},globalSearchSubmited=!1,header={openMainNav:function(){$("body").on("click",".menu-icon",function(){$(".main-nav").slideDown(timing.easingTime,function(){global.overflowBody()})})},closeMainNav:function(){$(".main-nav").on("click",".close",function(){$(".main-nav").slideUp(timing.easingTime,function(){global.clearOverflowBody()})})},toggleSearchGlobal:function(){$("body").on("click",".search-global-icon",function(){$(".search-global").stop().slideToggle(),$(".search-global-error-message").removeClass("active"),$(".search-global input").val(""),$(".search-global input").focus()})},initSearchGlobalValidation:function(){$(".search-global form").validate()},getLocation:function(){$(".degree").text("");new Date;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t={latlng:{lat:e.coords.latitude,lng:e.coords.longitude}};header.getDegree(t.latlng)},function(e){if(1===e.code){var t={lat:13.736717,lng:100.523186};header.getDegree(t)}else console.log(e.message)}):console.log("Geolocation is not supported by browser")},getDegreeApiUrl:function(e){return"/ajax/Temperature/GetCurrentTemperature?latitude="+e.lat+"&longitude="+e.lng},toggleLang:function(){$("body").on("click",".language",function(){$(this).toggleClass("active-en")})},getDegree:function(e){$.ajax({url:header.getDegreeApiUrl(e),success:function(e){e.IsSuccess&&e.AirTemperature&&$(".degree").text(e.AirTemperature)}})},getAutocompleteTermUrl:function(e,t,o){return"/ajax/search/suggestedkeywords?term="+e+"&device_type="+t+"&datasource_id="+o},getAutocompleteTerm:function(){$(".search-input").autocomplete({maxHeight:200,lookup:function(e,t){var o,i=$(".search-global input").val(),r=$("#SearchBarDatasourceId").val();$(window).width()<768?o="mobile":$(window).width()<1025&&(o="tablet"),""!=i&&$(".search-global-error-message").removeClass("active"),$.ajax({url:header.getAutocompleteTermUrl(i,o,r),success:function(e){if(e.IsSuccess&&e.Data){var o=[];$.each(e.Data,function(e,t){var i={value:t};o.push(i)});var e={suggestions:o};t(e)}}})},onSelect:function(e){
window.location.href="/search?term="+encodeURIComponent(e.value)},onHide:function(e){var t=$(".search-global input").val();globalSearchSubmited&&""==t&&$(".search-global-error-message").addClass("active")},triggerSelectOnValidInput:!1})},searchPage:function(){$(".search-global .header-search-icon").on("click",function(){header.validateSearchInput()}),$(".search-input").keyup(function(e){13==e.keyCode&&header.validateSearchInput()})},validateSearchInput:function(){var e=encodeURIComponent($(".search-global input").val());globalSearchSubmited=!0,""!=e?$(".search-global input").val().length<260?window.location.href="/search?term="+e:$(".search-global-error-message#max-length-message").addClass("active"):$(".search-global-error-message").addClass("active")},showSearchBar:function(){$(".search-results-section").length&&$(".search-global").css("display","block")},autocompleteTermScroll:function(){$(".autocomplete-suggestions").niceScroll({horizrailenabled:!1,cursorcolor:"#E6E6E6",cursorwidth:"7px"})},showPopUpMenuLink:function(){$(".nav-cate-item").each(function(){var e=$(this).html(),t=$(this).hasClass("active")?"active":"",o='<li class="'+t+'">'+e+"</li>";$(".nav-mobile ul").append(o)})}},navCate={initNavCateSwiper:function(){if($(".nav-cate").length){var e=0;$(".nav-cate-list .nav-cate-item").each(function(){$(this).hasClass("active")&&(e=$(this).index())});var t=document.querySelector(".nav-cate").swiper;t&&t.destroy(!1,!1);var o={init:!0,slidesPerView:"auto",spaceBetween:2,noSwiping:!1,initialSlide:e,noSwipingClass:"swiper-no-swiping"};$(window).width()>=768?(o.navigation={nextEl:".button__swiper.is-next",prevEl:".button__swiper.is-prev"},o.on={reachBeginning:function(){$(".button__swiper.is-prev").css("display","none"),$(".button__swiper.is-next").css("display","flex")},reachEnd:function(){$(".button__swiper.is-prev").css("display","flex"),$(".button__swiper.is-next").css("display","none")}}):($(".button__swiper.is-prev").css("display","none"),$(".button__swiper.is-next").css("display","none")),t=new Swiper(".nav-cate",o)}}};$.validator.addMethod("regex",function(e,t,o){return this.optional(t)||o.test(e.toString().trim())},function(e,t){return $(t).data("msg-regex")});var footer={responsiveElement:function(){$(window).width()<768?$(".footer-menu-section").prepend($(".social-icon-block-footer")):$(".footer-logo").after($(".social-icon-block-footer"))},expandMenu:function(){$(".footer-menu-list-title").on("click",function(){$(window).width()<768&&$(this).toggleClass("active")})},subscribeForm:function(){$("#e-newsletter-form").length&&$("#e-newsletter-form .email-input").on("input propertychange",function(){$(this).val()?$(".email-submit-button").addClass("active"):$(".email-submit-button").removeClass("active")}),$("#e-newsletter-form").validate({success:"valid",onkeyup:function(e){""===$(".email-input").val()&&$(e).closest(".e-newsletter-input-section").find("#newsletter__register-error").hide()},submitHandler:function(e){var t=$(".email-input").val();$.ajax({url:"/ajax/emailsubscription/subscribe?email="+t,success:function(t){if(t.IsSuccess)$(e).find(".e-newsletter-input-section").hide(),$(e).find(".thanks-message").show(),$(".email-submit-button").addClass("disable"),$(".submit-email-text").addClass("disable");else if("EmailRegistered"===t.StatusCode){var o=$("#SubscriptionEmailRegistered").val();$(e).find("#newsletter__register-error").html(o),$(e).find("#newsletter__register-error").show()}}})},rules:{newsletter__register:{regex:/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/}},messages:{newsletter__register:{email:$("#newsletter__register").data("msg-regex")}}})}},target=null,lightBoxTypes={video:"video",podcast:"podcast",youtubeVideo:"youtubeVideo"},lightBoxClasses={video:".lightbox-video",podcast:".lightbox-podcast",youtubeVideo:".lightbox-youtube-video"},lightbox={initNiceScroll:function(){$(".niceScroll").length&&$(".niceScroll").niceScroll({cursorcolor:"#ccc",cursorwidth:"7px",autohidemode:!1})},getLightBoxTarget:function(e){switch(e){case lightBoxTypes.video:target=lightBoxClasses.video;break;default:target=lightBoxClasses.youtubeVideo}},calcLightboxContent:function(e){lightbox.getLightBoxTarget(e);var t=$(target).find(".lightbox"),o=t.find(".iframe-responsive-wrapper"),i=t.find(".lightbox-content"),r=t.outerHeight()-o.outerHeight();i.outerHeight(r)},openLightbox:function(e,t,o){if(e){lightbox.getLightBoxTarget(e),$(".lightbox-overlay").fadeIn(timing.easingTime),global.overflowBody(),$(target).find(".lightbox-content").html(""),t||(console.warn("Error! Must include video url, Video will play alternative source for development view"),t="https://www.youtube.com/embed/4Hwh-4lJmq8"),!t.indexOf("?autoplay=1")>=0&&(t+="?autoplay=1");var i='<iframe class="iframe-responsive" src="'+t+'" width="1440" height="549" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>';$(target).find(".iframe-responsive-wrapper").append(i),lightbox.showLightBoxLoader(),$(target).fadeIn(timing.easingTime),o&&""!==o&&$.ajax({url:o,success:function(t){t.IsSuccess&&($(target).find(".lightbox-content").append(t.Html),e===lightBoxTypes.video&&setTimeout(function(){lightbox.layoutLightboxContent("video")},600))}})}},closeLightbox:function(){$("body").on("click",".lightbox-wrapper .close, .lightbox-overlay",function(){global.clearOverflowBody();var e=$(".lightbox:visible iframe");$(".lightbox-wrapper:visible, .lightbox-overlay").fadeOut(timing.easingTime,function(){e.remove()})})},showLightBoxLoader:function(){$(".lightbox .loader").show()},hideLightBoxLoader:function(){$(".lightbox .loader").hide()},layoutLightboxContent:function(e){lightbox.calcLightboxContent(e),lightbox.initNiceScroll()},openYoutubeVideoLightbox:function(){}},hero={openVideoLightbox:function(){$(".hero-banner").on("click",".video-item",function(){var e=$(this).attr("video-url");lightbox.openLightbox("youtubeVideo",e)})}},bloggerComponent={page_index:1,showMoreBtn:function(){$(".bloggers-section .show-more").on("click",function(){var e=$(this),t=$("#BloggersRabbit_DatasourceId").val(),o=$("#BloggersRabbit_CategoryId").val(),i=bloggerComponent.page_index,r="/ajax/article/getarticles?datasource_id="+t+"&category_id="+o+"&page_index="+i;$.ajax({url:r,success:function(t){t.IsSuccess&&(bloggerComponent.page_index++,$(".bloggers-section .blogger-items").append(t.Html),$(".bloggers-section .blogger-items .col-md-4").length>=$("#BloggersRabbit_TotalArticles").val()&&e.hide(),global.replaceImgToBackground(e.closest(".bloggers-section").find(".img-to-bg img")),e.closest(".bloggers-section").find(".expand-item-wrapper").css("height","auto"))}})})}},video={breakTextLine:function(){global.breakTextLine($(".video-highlight .card-text"),96)}},lottery={slideImage:function(){var e=$(".lottery-container").attr("autoPlayTime");new Swiper(".lottery-container",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0,speed:800,autoplay:{delay:e,disableOnInteraction:!1}})}},easingTime=300,easingTimeSlow=1200,pageIndexInitial=2,pageIndex=null,itemList=[{mobileMinRow:3,tabletMinRow:1,wrapperClassName:".blogger-items",itemClassName:".blogger"},{mobileMinRow:1,tabletMinRow:1,wrapperClassName:".upcoming-items-type",itemClassName:".post"},{mobileMinRow:2,tabletMinRow:1,wrapperClassName:".around-world-type",itemClassName:".post"},{mobileMinRow:1,tabletMinRow:"auto",wrapperClassName:".trending-item-group",itemClassName:".post-left-img"},{mobileMinRow:3,tabletMinRow:2,wrapperClassName:".latest-event-type",itemClassName:".post"}],showLessMore={setHeightItemList:function(){for(var e=0;e<itemList.length;e++){var t=itemList[e],o=t.wrapperClassName;if(!$(o).closest("section").hasClass("bloggers-section")&&!$(o).hasClass("active")){var i=(Math.floor($(o).find(t.itemClassName).outerHeight()),0),r=0;$(o).find(t.itemClassName).each(function(e,o){e<t.mobileMinRow&&(i+=Math.floor($(this).outerHeight())),"auto"===t.tabletMinRow?r=0:e<3&&(r=r>Math.floor($(this).outerHeight())?r:Math.floor($(this).outerHeight()))}),$(window).width()<768?$(o).children().length<t.mobileMinRow?($(o).height("auto"),$(o).siblings(".more-btn").hide()):i>0?$(o).outerHeight(i):$(o).height("auto"):$(window).width()<1025?$(o).children().length<=3*t.tabletMinRow?($(o).height("auto"),$(o).siblings(".more-btn").hide()):r>0?$(o).outerHeight(r*t.tabletMinRow):$(o).height("auto"):$(o).height("auto")}}},expandItem:function(){$("body").on("click",".show-more",function(e){e.preventDefault();var t=$(this),o=t.closest("section").hasClass("bloggers-section"),i=$(this).parent().siblings(".expand-item-wrapper"),r=i&&i[0].scrollHeight;o||(i.hasClass("active")||$(window).width()>1024?showLessMore.getLatestEvent(pageIndex,function(e,o){showLessMore.appendLatestEvent(e),global.replaceImgToBackground($(".img-to-bg img")),i.addClass("active"),t.parent().siblings(".lazy-load-type").children().length>=o&&t.fadeOut()}):(console.log(o),i.outerHeight(r),i.addClass("active"),!i.hasClass("lazy-load-type")&&$(this).removeClass("active").siblings(".show-less").addClass("active"),setTimeout(function(){i.height("auto")},500)))})},collapseItem:function(){$("body").on("click",".show-less",function(e){e.preventDefault();var t=$(this).parent().siblings(".expand-item-wrapper");t.removeClass("active"),t.outerHeight(t.outerHeight()),showLessMore.setHeightItemList();var o=t.closest("section").offset().top;global.scrollTo(o,easingTimeSlow),$(this).removeClass("active").siblings(".show-more").addClass("active")})},appendLatestEvent:function(e){$(".latest-event-type").append(e)},getLatestEvent:function(e,t){pageIndex=e||pageIndexInitial;var o=(window.location.origin,$("#LastestEventDatasourceId").val()),i="/ajax/Event/GetLastestEvent?pageIndex="+pageIndex+"&datasourceId="+o;$.ajax({url:i,success:function(e){if(e.IsSuccess){var o=e&&e.Html?e.Html:"",i=e&&e.TotalRecord?e.TotalRecord:0;pageIndex++,"function"==typeof t&&t(o,i)}}})}},detailPage={responsiveElement:function(){var e=$(".news-detail .trending-post-col"),t=$(".news-detail .detail-image-block"),o=$(".news-detail .author-section-detail-page"),i=$(".news-detail .advertise-trending-post"),r=$(".news-detail .author-section-description"),n=$(".tags-section-detail-page");$(window).width()<768?($(".news-detail .trending-post-row").prepend(e),$(".news-detail .news-detail-title-block").after(t),$(".news-detail .author-section-detail-page-col").prepend(t),e.append(i),$("news-detail .detail-maincontent-container").after(n)):$(window).width()>1025?($(".news-detail .detail-maincontent-row").append(e),$(".news-detail .detail-maincontent-col").prepend(t),$(".news-detail .detail-maincontent-text").after(o),$(".news-detail .detail-maincontent-text").after(n),e.prepend(i)):($(".news-detail .detail-maincontent-row").append(e),$(".news-detail .news-detail-title-block").after(t),$(".news-detail .author-section-detail-page-col").prepend(o),e.append(i),$(".news-detail .author-section-name-text").append(r),$("news-detail .detail-maincontent-container").after(n))},moveAdvertisingSection:function(){$(".news-detail-readmore-btn button").on("click",function(){$(".advertise-readmore-md").addClass("fadeOut"),setTimeout(function(){$(".readmore-button-advertise").hide()},500),$(window).width()<1025&&$(".detail-maincontent-advertising-section").append($(".adverstising-section-unread .advertising-section"))})}},eventDetailPage={responsiveElement:function(){var e=$(".event-info-section"),t=$(".event-detail .trending-post-col"),o=$(".event-detail .advertise-trending-post"),i=$(".detail-image-block");$(window).width()<768?($(".event-detail .detail-image-block").after(e),$(".event-detail .trending-post-row").prepend(t),t.append(o),$(".news-detail-title-block").after(i),$(".author-section-detail-page").append($(".author-section-description"))):$(window).width()>1025?($(".event-detail .detail-maincontent-block").prepend(e),$(".detail-maincontent-col").prepend(i),$(".event-detail .detail-maincontent-row").append(t),$(".event-detail .trending-post-col").prepend(o),$(".author-section-detail-page").append($(".author-section-description"))):($(".event-detail .detail-maincontent-block").prepend(e),$(".event-detail .detail-maincontent-row").append(t),t.prepend(o),$(".news-detail-title-block").after(i)),($(".detail-maincontent").hasClass("active")||$(".detail-maincontent-block").hasClass("active"))&&($(".detail-readmore-btn button").addClass("fadeOut"),$(".event-detail .trending-post-section").show())},showUpcomingSidebar:function(){$(".event-detail .news-detail-readmore-btn button").on("click",function(){$(".advertise-readmore-md").addClass("fadeOut"),$(".event-detail .trending-post-section").show()})}},socialIconColumn={lineShareButton:function(){var e=$(".column-social-icon.is__Line-Share");e.length&&$(e).on("click",function(e){e.preventDefault();window.open("https://social-plugins.line.me/lineit/share?url="+window.location.href,"popupWindow","width=600, height=600, scrollbars=yes")})}},readmoreButton={continueReading:function(){$(".news-detail-readmore-btn button").on("click",function(){$(".fadedSection").addClass("active"),global.removeMaxHeight($(".fadedSection")),$(".news-detail-readmore-btn").hide(),$(".advertise-readmore-md").hide()})}},postLeftImg={breakTextLine:function(){global.breakTextLine($(".card-text"),60)},breakTextLineSearch:function(){var e=$(window).width();e<768?(global.breakTextLine($(".card-text-ext"),95),global.breakTextLine($(".search-result-item .info p"),120)):e<1025?(global.breakTextLine($(".card-text-ext"),30),global.breakTextLine($(".search-result-item .info p"),100)):(global.breakTextLine($(".card-text-ext"),100),global.breakTextLine($(".search-result-item .info p"),120))}},postOverlapTitle={breakTextLine:function(){global.breakTextLine($(".round-box"),60),global.breakTextLine($(".highlight-post .round-box"),96)}},detailPageTitle={showSocialIconList:function(){$(".news-detail-share-img").on("click",function(){$(this).find(".column-social-block").toggleClass("active")})},reponsiveElement:function(){var e=$(".column-social-block");$(window).width()>1025?$(".detail-image-block").after(e):$(".news-detail-share-img").append(e)},likeButton:function(){$(".detail-section .reaction-heart").on("click",function(){var e=$(this),t=parseFloat(e.find(".heart-number").text()),o=$("#CurrentItemId").val(),i=e.hasClass("active")?"/ajax/like/remove":"/ajax/like/add",r=e.hasClass("active")?t-1:t+1;r=r<0?0:r,$.ajax({url:i+"?item_id="+o.toString(),success:function(t){t.IsSuccess&&(e.toggleClass("active"),e.find(".heart-number").text(r.toString()))}})})}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"function"==typeof require?require("jquery"):jQuery)}(function(e){"use strict";function t(o,i){var r=this;r.element=o,r.el=e(o),r.suggestions=[],r.badQueries=[],r.selectedIndex=-1,r.currentValue=r.element.value,r.timeoutId=null,r.cachedResponse={},r.onChangeTimeout=null,r.onChange=null,r.isLocal=!1,r.suggestionsContainer=null,r.noSuggestionsContainer=null,r.options=e.extend({},t.defaults,i),r.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},r.hint=null,r.hintValue="",r.selection=null,r.initialize(),r.setOptions(i)}function o(e,t,o){return-1!==e.value.toLowerCase().indexOf(o)}function i(t){return"string"==typeof t?e.parseJSON(t):t}function r(e,t){if(!t)return e.value;var o="("+s.escapeRegExChars(t)+")";return e.value.replace(new RegExp(o,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")}function n(e,t){return'<div class="autocomplete-group">'+t+"</div>"}var s=function(){return{escapeRegExChars:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}}}(),a={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},l=e.noop;t.utils=s,e.Autocomplete=t,t.defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:r,formatGroup:n,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:l,onSearchComplete:l,onSearchError:l,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:o,paramName:"query",transformResult:i,showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1},t.prototype={initialize:function(){var o,i=this,r="."+i.classes.suggestion,n=i.classes.selected,s=i.options;i.element.setAttribute("autocomplete","off"),i.noSuggestionsContainer=e('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),i.suggestionsContainer=t.utils.createNode(s.containerClass),o=e(i.suggestionsContainer),o.appendTo(s.appendTo||"body"),"auto"!==s.width&&o.css("width",s.width),o.on("mouseover.autocomplete",r,function(){i.activate(e(this).data("index"))}),o.on("mouseout.autocomplete",function(){i.selectedIndex=-1,o.children("."+n).removeClass(n)}),o.on("click.autocomplete",r,function(){i.select(e(this).data("index"))}),o.on("click.autocomplete",function(){clearTimeout(i.blurTimeoutId)}),i.fixPositionCapture=function(){i.visible&&i.fixPosition()},e(window).on("resize.autocomplete",i.fixPositionCapture),i.el.on("keydown.autocomplete",function(e){i.onKeyPress(e)}),i.el.on("keyup.autocomplete",function(e){i.onKeyUp(e)}),i.el.on("blur.autocomplete",function(){i.onBlur()}),i.el.on("focus.autocomplete",function(){i.onFocus()}),i.el.on("change.autocomplete",function(e){i.onKeyUp(e)}),i.el.on("input.autocomplete",function(e){i.onKeyUp(e)})},onFocus:function(){var e=this;e.fixPosition(),e.el.val().length>=e.options.minChars&&e.onValueChange()},onBlur:function(){var e=this;e.blurTimeoutId=setTimeout(function(){e.hide()},200)},abortAjax:function(){var e=this;e.currentRequest&&(e.currentRequest.abort(),e.currentRequest=null)},setOptions:function(t){var o=this,i=e.extend({},o.options,t);o.isLocal=Array.isArray(i.lookup),o.isLocal&&(i.lookup=o.verifySuggestionsFormat(i.lookup)),i.orientation=o.validateOrientation(i.orientation,"bottom"),e(o.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex}),this.options=i},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,clearTimeout(e.onChangeTimeout),e.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var t=this,o=e(t.suggestionsContainer),i=o.parent().get(0);if(i===document.body||t.options.forceFixPosition){var r=t.options.orientation,n=o.outerHeight(),s=t.el.outerHeight(),a=t.el.offset(),l={top:a.top,left:a.left};if("auto"===r){var c=e(window).height(),d=e(window).scrollTop(),u=-d+a.top-n,h=d+c-(a.top+s+n);r=Math.max(u,h)===u?"top":"bottom"}if(l.top+="top"===r?-n:s,i!==document.body){var p,g=o.css("opacity");t.visible||o.css("opacity",0).show(),p=o.offsetParent().offset(),l.top-=p.top,l.top+=i.scrollTop,l.left-=p.left,t.visible||o.css("opacity",g).hide()}"auto"===t.options.width&&(l.width=t.el.outerWidth()+"px"),o.css(l)}},isCursorAtEnd:function(){var e,t=this,o=t.el.val().length,i=t.element.selectionStart;return"number"==typeof i?i===o:!document.selection||(e=document.selection.createRange(),e.moveStart("character",-o),o===e.text.length)},onKeyPress:function(e){var t=this;if(!t.disabled&&!t.visible&&e.which===a.DOWN&&t.currentValue)return void t.suggest();if(!t.disabled&&t.visible){switch(e.which){case a.ESC:t.el.val(t.currentValue),t.hide();break;case a.RIGHT:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case a.TAB:if(t.hint&&t.options.onHint)return void t.selectHint();if(-1===t.selectedIndex)return void t.hide();if(t.select(t.selectedIndex),!1===t.options.tabDisabled)return;break;case a.RETURN:if(-1===t.selectedIndex)return void t.hide();t.select(t.selectedIndex);break;case a.UP:t.moveUp();break;case a.DOWN:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case a.UP:case a.DOWN:return}clearTimeout(t.onChangeTimeout),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeTimeout=setTimeout(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){if(this.ignoreValueChange)return void(this.ignoreValueChange=!1);var t=this,o=t.options,i=t.el.val(),r=t.getQuery(i);if(t.selection&&t.currentValue!==r&&(t.selection=null,(o.onInvalidateSelection||e.noop).call(t.element)),clearTimeout(t.onChangeTimeout),t.currentValue=i,t.selectedIndex=-1,o.triggerSelectOnValidInput&&t.isExactMatch(r))return void t.select(0);r.length<o.minChars?t.hide():t.getSuggestions(r)},isExactMatch:function(e){var t=this.suggestions;return 1===t.length&&t[0].value.toLowerCase()===e.toLowerCase()},getQuery:function(t){var o,i=this.options.delimiter;return i?(o=t.split(i),e.trim(o[o.length-1])):t},getSuggestionsLocal:function(t){var o,i=this,r=i.options,n=t.toLowerCase(),s=r.lookupFilter,a=parseInt(r.lookupLimit,10);return o={suggestions:e.grep(r.lookup,function(e){return s(e,t,n)})},a&&o.suggestions.length>a&&(o.suggestions=o.suggestions.slice(0,a)),o},getSuggestions:function(t){var o,i,r,n,s=this,a=s.options,l=a.serviceUrl;if(a.params[a.paramName]=t,!1!==a.onSearchStart.call(s.element,a.params)){if(i=a.ignoreParams?null:a.params,e.isFunction(a.lookup))return void a.lookup(t,function(e){s.suggestions=e.suggestions,s.suggest(),a.onSearchComplete.call(s.element,t,e.suggestions)});s.isLocal?o=s.getSuggestionsLocal(t):(e.isFunction(l)&&(l=l.call(s.element,t)),r=l+"?"+e.param(i||{}),o=s.cachedResponse[r]),o&&Array.isArray(o.suggestions)?(s.suggestions=o.suggestions,s.suggest(),a.onSearchComplete.call(s.element,t,o.suggestions)):s.isBadQuery(t)?a.onSearchComplete.call(s.element,t,[]):(s.abortAjax(),n={url:l,data:i,type:a.type,dataType:a.dataType},e.extend(n,a.ajaxSettings),s.currentRequest=e.ajax(n).done(function(e){var o;s.currentRequest=null,o=a.transformResult(e,t),s.processResponse(o,t,r),a.onSearchComplete.call(s.element,t,o.suggestions)}).fail(function(e,o,i){a.onSearchError.call(s.element,t,e,o,i)}))}},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,o=t.length;o--;)if(0===e.indexOf(t[o]))return!0;return!1},hide:function(){var t=this,o=e(t.suggestionsContainer);e.isFunction(t.options.onHide)&&t.visible&&t.options.onHide.call(t.element,o),t.visible=!1,t.selectedIndex=-1,clearTimeout(t.onChangeTimeout),e(t.suggestionsContainer).hide(),t.signalHint(null)},suggest:function(){if(!this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var t,o=this,i=o.options,r=i.groupBy,n=i.formatResult,s=o.getQuery(o.currentValue),a=o.classes.suggestion,l=o.classes.selected,c=e(o.suggestionsContainer),d=e(o.noSuggestionsContainer),u=i.beforeRender,h="",p=function(e,o){var n=e.data[r];return t===n?"":(t=n,i.formatGroup(e,t))};if(i.triggerSelectOnValidInput&&o.isExactMatch(s))return void o.select(0);e.each(o.suggestions,function(e,t){r&&(h+=p(t,0)),h+='<div class="'+a+'" data-index="'+e+'">'+n(t,s,e)+"</div>"}),this.adjustContainerWidth(),d.detach(),c.html(h),e.isFunction(u)&&u.call(o.element,c,o.suggestions),o.fixPosition(),c.show(),i.autoSelectFirst&&(o.selectedIndex=0,c.scrollTop(0),c.children("."+a).first().addClass(l)),o.visible=!0,o.findBestHint()},noSuggestions:function(){var t=this,o=t.options.beforeRender,i=e(t.suggestionsContainer),r=e(t.noSuggestionsContainer);this.adjustContainerWidth(),r.detach(),i.empty(),i.append(r),e.isFunction(o)&&o.call(t.element,i,t.suggestions),t.fixPosition(),i.show(),t.visible=!0},adjustContainerWidth:function(){var t,o=this,i=o.options,r=e(o.suggestionsContainer);"auto"===i.width?(t=o.el.outerWidth(),r.css("width",t>0?t:300)):"flex"===i.width&&r.css("width","")},findBestHint:function(){var t=this,o=t.el.val().toLowerCase(),i=null;o&&(e.each(t.suggestions,function(e,t){var r=0===t.value.toLowerCase().indexOf(o);return r&&(i=t),!r}),t.signalHint(i))},signalHint:function(t){var o="",i=this;t&&(o=i.currentValue+t.value.substr(i.currentValue.length)),i.hintValue!==o&&(i.hintValue=o,i.hint=t,(this.options.onHint||e.noop)(o))},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},validateOrientation:function(t,o){return t=e.trim(t||"").toLowerCase(),-1===e.inArray(t,["auto","bottom","top"])&&(t=o),t},processResponse:function(e,t,o){var i=this,r=i.options;e.suggestions=i.verifySuggestionsFormat(e.suggestions),r.noCache||(i.cachedResponse[o]=e,r.preventBadQueries&&!e.suggestions.length&&i.badQueries.push(t)),t===i.getQuery(i.currentValue)&&(i.suggestions=e.suggestions,i.suggest())},activate:function(t){var o,i=this,r=i.classes.selected,n=e(i.suggestionsContainer),s=n.find("."+i.classes.suggestion);return n.find("."+r).removeClass(r),i.selectedIndex=t,-1!==i.selectedIndex&&s.length>i.selectedIndex?(o=s.get(i.selectedIndex),e(o).addClass(r),o):null},selectHint:function(){var t=this,o=e.inArray(t.hint,t.suggestions);t.select(o)},select:function(e){var t=this;t.hide(),t.onSelect(e)},moveUp:function(){var t=this;if(-1!==t.selectedIndex)return 0===t.selectedIndex?(e(t.suggestionsContainer).children("."+t.classes.suggestion).first().removeClass(t.classes.selected),t.selectedIndex=-1,t.ignoreValueChange=!1,t.el.val(t.currentValue),void t.findBestHint()):void t.adjustScroll(t.selectedIndex-1)},moveDown:function(){var e=this;e.selectedIndex!==e.suggestions.length-1&&e.adjustScroll(e.selectedIndex+1)},adjustScroll:function(t){var o=this,i=o.activate(t);if(i){var r,n,s,a=e(i).outerHeight();r=i.offsetTop,n=e(o.suggestionsContainer).scrollTop(),s=n+o.options.maxHeight-a,r<n?e(o.suggestionsContainer).scrollTop(r):r>s&&e(o.suggestionsContainer).scrollTop(r-o.options.maxHeight+a),o.options.preserveInput||(o.ignoreValueChange=!0,o.el.val(o.getValue(o.suggestions[t].value))),o.signalHint(null)}},onSelect:function(t){var o=this,i=o.options.onSelect,r=o.suggestions[t];o.currentValue=o.getValue(r.value),o.currentValue===o.el.val()||o.options.preserveInput||o.el.val(o.currentValue),o.signalHint(null),o.suggestions=[],o.selection=r,e.isFunction(i)&&i.call(o.element,r)},getValue:function(e){var t,o,i=this,r=i.options.delimiter;return r?(t=i.currentValue,o=t.split(r),1===o.length?e:t.substr(0,t.length-o[o.length-1].length)+e):e},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete"),e(window).off("resize.autocomplete",t.fixPositionCapture),e(t.suggestionsContainer).remove()}},e.fn.devbridgeAutocomplete=function(o,i){return arguments.length?this.each(function(){var r=e(this),n=r.data("autocomplete");"string"==typeof o?n&&"function"==typeof n[o]&&n[o](i):(n&&n.dispose&&n.dispose(),n=new t(this,o),r.data("autocomplete",n))}):this.first().data("autocomplete")},e.fn.autocomplete||(e.fn.autocomplete=e.fn.devbridgeAutocomplete)}),function(e,t,o){"use strict";function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(t,o){this.element=t,this.settings=e.extend({},l,o),this._defaults=l,this._name=a,this.settings.parent=this.element.parentElement,this.settings.vendorTransform=n(),this.ticking=!1,this.elGeom=this.getGeomInDocument(this.element),this.parentGeom=this.getGeomInDocument(this.settings.parent),this.dockedTop=!1,this.dockedBottom=!1,this.timer=0,this.transY=0,this.init()}function n(){var e=s();return"Safari"===e.name&&parseInt(e.version)<9||"Chrome"===e.name&&parseInt(e.version)<36||"Opera"===e.name&&parseInt(e.version)<23?"webkitTransform":"MSIE"===e.name&&9===parseInt(e.version)?"msTransform":"transform"}function s(){var e,t=navigator.userAgent,o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(o[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):"Chrome"===o[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?{name:"Opera",version:e[1]}:(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&o.splice(1,1,e[1]),{name:o[0],version:o[1]})}!function(){for(var e=0,o=["ms","moz","webkit","o"],i=0;i<o.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[o[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o[i]+"CancelAnimationFrame"]||t[o[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(o){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),n=t.setTimeout(function(){o(i+r)},r);return e=i+r,n}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}();var a="JStick",l={context:t,dockBottom:!0,offsetTop:0,offsetBottom:0};e.extend(r.prototype,{init:function(){console.log("init",this.settings),e(this.settings.context).on("scroll",i(this,"onScroll")),console.log(s().name,s().version)},getPosInViewport:function(e){return(e||this.element).getBoundingClientRect()},getGeomInDocument:function(e){var t=this.getPosInViewport(e),o=this.getScrollOffsets();return{x:t.left+o.x,y:t.top+o.y,w:t.width||t.right-t.left,h:t.height||t.bottom-t.top}},getScrollOffsets:function(e){if(e=e||this.settings.context,null!=e.pageXOffset)return{x:e.pageXOffset,y:e.pageYOffset};var t=e.document;return"CSS1Compat"===o.compatMode?{x:t.documentElement.scrollLeft,y:t.documentElement.scrollTop}:{x:t.body.scrollLeft,y:t.body.scrollTop}},getViewportSize:function(e){if(e=e||this.settings.context,null!=e.innerWidth)return{w:e.innerWidth,h:e.innerHeight};var t=e.document;return"CSS1Compat"===o.compatMode?{w:t.documentElement.clientWidth,h:t.documentElement.clientHeight}:{w:t.body.clientWidth,h:t.body.clientHeight}},dockTop:function(){this.dockedTop=!0,e(this.element).trigger(a+":dockTop")},undockTop:function(){this.element.removeAttribute("style"),this.dockedTop=!1,e(this.element).trigger(a+":undockTop")},dockBottom:function(){this.dockedBottom=!0,e(this.element).trigger(a+":dockBottom")},undockBottom:function(){this.dockedBottom=!1,e(this.element).trigger(a+":undockBottom")},onScroll:function(){this.ticking||requestAnimationFrame(i(this,"loop")),clearTimeout(this.timer),this.timer=setTimeout(function(){this.ticking=!0},100)},loop:function(){this.transY=this.getScrollOffsets().y-this.elGeom.y+this.settings.offsetTop,this.getScrollOffsets().y>=this.elGeom.y-this.settings.offsetTop?this.dockedTop||(this.dockTop(),this.element.style[this.settings.vendorTransform]="translateY("+this.elGeom.y-this.settings.offsetTop+"px)"):this.dockedTop&&this.undockTop(),this.elGeom.y+this.elGeom.h+this.transY>=this.parentGeom.y+this.parentGeom.h?this.dockedBottom||(this.dockBottom(),console.log("new dockbottom"),this.element.style[this.settings.vendorTransform]="translateY("+(this.parentGeom.y+this.parentGeom.h)-(this.elGeom.y+this.elGeom.h)+"px)"):this.dockedBottom&&this.undockBottom(),this.dockedTop&&!this.dockedBottom&&(this.element.style[this.settings.vendorTransform]="translateY("+this.transY+"px)")},destroy:function(){}}),e.fn[a]=function(t){return this.each(function(){e.data(this,"plugin_"+a)||e.data(this,"plugin_"+a,new r(this,t))})}}(jQuery,window,document),function(e){function t(t){return e(t).filter(function(){return e(this).is(":appeared")})}function o(){s=!1;for(var e=0,o=r.length;e<o;e++){var i=t(r[e]);if(i.trigger("appear",[i]),c[e]){var n=c[e].not(i);n.trigger("disappear",[n])}c[e]=i}}function i(e){r.push(e),c.push()}var r=[],n=!1,s=!1,a={interval:250,
force_process:!1},l=e(window),c=[];e.expr.pseudos.appeared=e.expr.createPseudo(function(t){return function(t){var o=e(t);if(!o.is(":visible"))return!1;var i=l.scrollLeft(),r=l.scrollTop(),n=o.offset(),s=n.left,a=n.top;return a+o.height()>=r&&a-(o.data("appear-top-offset")||0)<=r+l.height()&&s+o.width()>=i&&s-(o.data("appear-left-offset")||0)<=i+l.width()}}),e.fn.extend({appear:function(t,o){return e.appear(this,o),this}}),e.extend({appear:function(t,r){var l=e.extend({},a,r||{});if(!n){var c=function(){s||(s=!0,setTimeout(o,l.interval))};e(window).scroll(c).resize(c),n=!0}l.force_process&&setTimeout(o,l.interval),i(t)},force_appear:function(){return!!n&&(o(),!0)}})}(function(){return"undefined"!=typeof module?require("jquery"):jQuery}());var isDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid=/Android/i.test(navigator.userAgent),isIos=/iPhone|iPad|iPod/i.test(navigator.userAgent),mobileWidth=767,deviceWidth=1024,isIE11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),isMobile=$(window).width()<768,timing={easingTime:700},global={detectDevices:function(){var e=!0===isDevice?" device":" pc",t=!0===isAndroid?" android":" not-android",o=!0===isIos?" ios":" not-ios",i=isMobile?" mobile":" desktop",r=isIE11?" ie11":" ",n=e+t+o+i+r;$("html").addClass(n),isDevice&&$("body").css("cursor","pointer")},showElement:function(){$(".main-content .animated").length&&$(".main-content .animated").each(function(){var e=$(window).scrollTop()+$(window).height(),t=$(this).offset().top,o=$(this).outerHeight(),i=isMobile?200:400;(e>t+o||e>t+i)&&$(this).addClass("fadeInUp")})},replaceImgToBackground:function(e){$.each(e,function(){"visible"==$(this).css("visibility")&&$(this).parent().css("background-image","url("+$(this).attr("src")+")")})},imgCarousel:function(e){$(e).each(function(e){if($(this).length&&$(this).children().length){var t=$(this),o=t.attr("autoPlayTime");t.addClass("instance-"+e);new Swiper(".instance-"+e,{direction:"horizontal",speed:800,pagination:{el:t.find(".swiper-pagination"),clickable:!0},loop:!0,autoplay:{delay:o,disableOnInteraction:!1},fadeEffect:{crossFade:!0},on:{slideChange:function(){if(t.hasClass("appear")){var e={ad_id:t.find(".swiper-slide-next").attr("ad-id")?t.find(".swiper-slide-next").attr("ad-id").slice(1,-1):null,path:window.location.pathname,page_id:$("#page_id").val()?$("#page_id").val().slice(1,-1):null},o=t.find(".swiper-slide-next").closest(".swiper-container").attr("section-id");e.ad_id&&o.concat(e.ad_id);$.ajax({type:"POST",url:"/ajax/advertisement/adsImpression",dataType:"json",contentType:"application/json",data:JSON.stringify(e),success:function(e){e.IsSuccess}})}}}})}})},responsiveElementDesktop:function(){var e=$(window).width();e>767&&($("#e-newsletter-form .submit-email-text").length<1&&$(".e-newsletter-subscription-section .submit-email-text").clone().appendTo($("#e-newsletter-form .email-submit-button")),$(".photo-day-section #lottery-section").length<1&&$(".hero-section #lottery-section").clone().appendTo($(".photo-day-section .lottery-board"))),e>1023&&$(".bloggers-section #photo-of-the-day").length<1&&$(".photo-day-section #photo-of-the-day").clone().appendTo($(".bloggers-section .photo-day-section"))},overflowBody:function(){$("html, body").css({height:"100%",overflow:"hidden"})},clearOverflowBody:function(){$("html, body").css({height:"auto",overflow:"visible"})},scrollTo:function(e,t){$("html, body").animate({scrollTop:e},t)},removeReadmoreButton:function(){$(".fadedSection").each(function(){$(this)[0].scrollHeight<=parseInt($(this).css("max-height"),10)?($(this).find(".news-detail-readmore-btn").css("opacity",0),$(this).removeClass("active-fade")):($(this).find(".news-detail-readmore-btn").css("opacity",1),$(this).addClass("active-fade"))})},removeMaxHeight:function(e){var t=$("body")[0].scrollHeight;setTimeout(function(){e.css("max-height",t)}),setTimeout(function(){e.css("max-height","100%")},100)},breakTextLine:function(e,t){e.dotdotdot({ellipsis:"...",watch:!0,wrap:"letter",height:t})},hideEmptySection:function(){$(".hide-content")&&$(".hide-content").each(function(){if($(this).attr("group-name")){var e=$(this).attr("group-name");$('[group-name="'+e+'"]').hide()}})},onClickEvent:function(e){$(e).click(function(t){$(this).hasClass("active")||($(e).removeClass("active"),$(this).addClass("active"))})},scrollToTop:function(){if($("#back-to-top").length){$(window).scrollTop()>100?$("#back-to-top").addClass("show"):$("#back-to-top").removeClass("show")}},backToTop:function(){$("#back-to-top").length&&$("#back-to-top").on("click",function(e){return e.preventDefault(),$("html,body").animate({scrollTop:0},700),!1})},scrollAdvertise:function(){$(".advertising-fixed").each(function(){$(this).is(":visible")&&$(window).width()>768?$(this).stick_in_parent():$(this).trigger("sticky_kit:detach")})},clickAds:function(e){var t=$(e).data("ads-id"),o={ad_id:t.slice(1,-1),path:window.location.pathname,page_id:$("#page_id").val().slice(1,-1)};$.ajax({type:"POST",url:"/ajax/advertisement/click",data:JSON.stringify(o),dataType:"json",contentType:"application/json",success:function(e){}})},init:function(){},load:function(){},resize:function(){}};$(function(){global.showElement(),global.detectDevices(),global.replaceImgToBackground($(".img-to-bg img")),global.responsiveElementDesktop(),global.imgCarousel(".banner-carousel, .advertising-carousel, .advertising-in-col"),global.hideEmptySection(),hero.openVideoLightbox("youtubeVideo"),footer.responsiveElement(),footer.expandMenu(),footer.subscribeForm(),lightbox.closeLightbox(),header.getAutocompleteTerm(),header.getLocation(),header.closeMainNav(),header.openMainNav(),header.toggleSearchGlobal(),header.initSearchGlobalValidation(),header.searchPage(),header.toggleLang(),navCate.initNavCateSwiper(),detailPage.responsiveElement(),detailPage.moveAdvertisingSection(),detailPageTitle.likeButton(),showLessMore.setHeightItemList(),showLessMore.expandItem(),showLessMore.collapseItem(),eventDetailPage.responsiveElement(),eventDetailPage.showUpcomingSidebar(),readmoreButton.continueReading(),global.removeReadmoreButton(),postLeftImg.breakTextLine(),postOverlapTitle.breakTextLine(),video.breakTextLine(),postLeftImg.breakTextLineSearch(),global.onClickEvent(".filter-list li"),global.onClickEvent(".search-result-list .pagination li.page-item"),global.scrollToTop(),global.backToTop(),global.scrollAdvertise(),detailPageTitle.showSocialIconList(),detailPageTitle.reponsiveElement(),header.showSearchBar(),lottery.slideImage(),bloggerComponent.showMoreBtn(),header.showPopUpMenuLink(),socialIconColumn.lineShareButton()}),$(window).on("load",function(e){showLessMore.setHeightItemList(),header.autocompleteTermScroll()});var width=$(window).width(),resize=0,fullScreenRequest=!1,isFullscreenNow=!1;$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange orientationchange",function(e){fullScreenRequest=!0,isFullscreenNow=null!==document.webkitFullscreenElement}),$(window).on("orientationchange",function(e){fullScreenRequest=!0,isFullscreenNow=null!==document.webkitFullscreenElement}),$(window).on("resize",function(){var e,t=$(this);clearTimeout(e),e=setTimeout(function(){t.width()!==width&&(width=t.width(),global.responsiveElementDesktop(),footer.responsiveElement(),lightbox.calcLightboxContent(lightBoxTypes.video),navCate.initNavCateSwiper(),fullScreenRequest||(eventDetailPage.responsiveElement(),detailPage.responsiveElement()),fullScreenRequest&&!isFullscreenNow&&(fullScreenRequest=!1),global.removeReadmoreButton(),postLeftImg.breakTextLineSearch(),detailPageTitle.reponsiveElement(),global.scrollAdvertise()),navCate.initNavCateSwiper()},250)}),$(window).scroll(function(){global.showElement(),global.scrollToTop()});var sentIdAdvertise=[];$(document.body).on("appear",".advertising-fixed",function(e,t){console.log(100)}),$(document.body).on("appear",".advertising-section .swiper-container, .advertising .swiper-container",function(e,t){$(this).addClass("appear");var o={ad_id:$(this).find(".swiper-slide-active").attr("ad-id")?$(this).find(".swiper-slide-active").attr("ad-id").slice(1,-1):null,path:window.location.pathname,page_id:$("#page_id").val()?$("#page_id").val().slice(1,-1):null},i=$(this).find(".swiper-slide-active").closest(".swiper-container").attr("section-id");o.ad_id&&i.concat(o.ad_id);$.ajax({type:"POST",url:"/ajax/advertisement/adsImpression",dataType:"json",contentType:"application/json",data:JSON.stringify(o),success:function(e){e.IsSuccess}})}),$(document.body).on("disappear",".advertising-section .swiper-container, .advertising .swiper-container",function(e,t){$(this).removeClass("appear")}),$(".advertising-section .swiper-container").appear(),$(".advertising .swiper-container").appear();